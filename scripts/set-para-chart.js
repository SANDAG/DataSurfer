/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
function loadMaxSize(){
    font_size_tool_tip='7.875pt';
    font_size_detail_tool_tip='7.875pt';
    align_legend = 'right';
    vertical_align_legend = 'middle';
    layout_legend = 'vertical';
    /* overview age*/
     margin_top_age = 27;
     margin_bottom_age = 82;
     margin_left_age=60; 

     margin_right_age=100;
     spacing_left_age=28;;
     spacing_bottom_age=23;

     offset_y_title_age = 50;
     offset_x_title_age = 60;
     offset_x_label_age = 15;
     y_legend_age = 15;
     x_legend_age = -28;
    /* end overview */

    /* overview income*/
     margin_top_income = 27;
     margin_bottom_income = 82;
     margin_left_income=65; //59

     margin_right_income=104;
     spacing_left_income=28;
     spacing_bottom_income=23;

     offset_y_title_income = 55; // 45 
     offset_x_title_income = 60;//45
     offset_x_label_income = 15;
     x_legend_income=7;
     y_legend_income = 0;
     y_title_income=0;
     group_padding_income = 0.17;
    /* end overview */

    /* overview forcast ethnicity*/
     margin_top_forcast_ethnicity = 22;
     margin_bottom_forcast_ethnicity = 67;//85
     margin_left_forcast_ethnicity = 58;//54

     margin_right_forcast_ethnicity=100;//100
     spacing_left_forcast_ethnicity=28;
     spacing_bottom_forcast_ethnicity=23;

     offset_y_title_forcast_ethnicity = 40;//35
     offset_x_title_forcast_ethnicity = 47;
     offset_x_label_forcast_ethnicity = 15;
     y_legend_forcast_ethnicity = 0;
     x_legend_forcast_ethnicity= -14;
     y_title_forcast_income = 20;
    /* end overview */

    /* overview forcast housing*/
     margin_top_forcast_housing = 22;
     margin_bottom_forcast_housing = 67;//85
     margin_left_forcast_housing=63;//59

     margin_right_forcast_housing=104//130
     spacing_left_forcast_housing=28;
     spacing_bottom_forcast_housing=23;//23

     offset_y_title_forcast_housing = 41;//36
     offset_x_title_forcast_housing = 47;
     offset_x_label_forcast_housing = 15;
     y_legend_forcast_housing = 0;//15
     x_legend_forcast_housing = -2;
    /* end overview */

    /* overview forcast income*/
     margin_top_forcast_income = 22;
     margin_bottom_forcast_income = 77;//85
     margin_left_forcast_income=50;//40

     margin_right_forcast_income=93;//130
     spacing_left_forcast_income=28;
     spacing_bottom_forcast_income=23;

     offset_y_title_forcast_income = 33;//23
     offset_x_title_forcast_income = 58;
     offset_x_label_forcast_income = 15;
     y_legend_forcast_income = 0;
     x_legend_forcast_income =-40;//-34
    /* end overview */

    /* overview forcast job*/
     margin_top_forcast_job = 17;
     margin_bottom_forcast_job = 74;//85
     margin_left_forcast_job=67;

     margin_right_forcast_job=112;//130
     spacing_left_forcast_job=28;
     spacing_bottom_forcast_job=23;

     offset_y_title_forcast_job = 55;
     offset_x_title_forcast_job = 49;
     offset_x_label_forcast_job = 15;
     y_legend_forcast_job = 0;
     x_legend_forcast_job = -3;
    /* end overview */

    /* detail age */
     spacing_left_detail_age =60;
     spacing_bottom_detail_age =120;
     margin_left_detail_age =100;
     margin_top_detail_age=70;
     margin_right_detail_age =245;
     margin_bottom_detail_age =105;
     offset_x_title_detail_age=62;
     offset_y_title_detail_age=58;
     y_legend_detail_age=45;
     x_legend_detail_age=-120;
     y_label_detail_age = 28;
    //end detail age
    /* detail income */
     spacing_left_detail_income =30;
     spacing_bottom_detail_income =120;
     margin_left_detail_income =100;
     margin_top_detail_income =70;
     margin_right_detail_income =245;
     margin_bottom_detail_income =105;
     offset_x_title_detail_income =63;
     offset_y_title_detail_income =66;
     y_legend_detail_income =40;
     x_legend_detail_income =0;
     y_label_detail_income = 28;
    //end detail income

    /* detail forcast ethnicity*/
     spacing_left_detail_forcast_ethnicity =60;
     spacing_bottom_detail_forcast_ethnicity =120;
     margin_left_detail_forcast_ethnicity =105;
     margin_top_detail_forcast_ethnicity =70;
     margin_right_detail_forcast_ethnicity =245;
     margin_bottom_detail_forcast_ethnicity =93;
     offset_x_title_detail_forcast_ethnicity =50;
     offset_y_title_detail_forcast_ethnicity =63;
     y_legend_detail_forcast_ethnicity =40;
     x_legend_detail_forcast_ethnicity =-98;
     label_x_detail_forcast_ethnicity = 26;
     label_y_detail_forcast_ethnicity = 30;
     item_margin_top_detail_forcast_ethnicity=5;
     item_margin_bottom_detail_forcast_ethnicity=5;
    //end forcast ethnicity

    /* detail forcast housing*/
     spacing_left_detail_forcast_housing =60;
     spacing_bottom_detail_forcast_housing =120;
     margin_left_detail_forcast_housing =102;
     margin_top_detail_forcast_housing =70;
     margin_right_detail_forcast_housing =245;
     margin_bottom_detail_forcast_housing =93;
     offset_x_title_detail_forcast_housing =50;
     offset_y_title_detail_forcast_housing =60;
     y_legend_detail_forcast_housing =40;
     x_legend_detail_forcast_housing =-62;
     label_x_detail_forcast_housing = 27;
     label_y_detail_forcast_housing = 38;
     item_margin_bottom_detail_focast_housing = 5;
     item_margin_top_detail_focast_housing = 5;
    //end forcast housing

    /* detail forcast income*/
     spacing_left_detail_forcast_income =60;
     spacing_bottom_detail_forcast_income =120;
     margin_left_detail_forcast_income =102;
     margin_top_detail_forcast_income =70;
     margin_right_detail_forcast_income =200;
     margin_bottom_detail_forcast_income =108;
     offset_x_title_detail_forcast_income =65;
     offset_y_title_detail_forcast_income =60;
     y_legend_detail_forcast_income =40;
     x_legend_detail_forcast_income =-100;
     label_x_detail_forcast_income = 27;
     label_y_detail_forcast_income = 38;
     item_margin_bottom_detail_focast_income = 3;
     item_margin_top_detail_focast_income = 3;
     rotation_detail_forcast_income=0;
    //end forcast income

    /* detail forcast job*/
     spacing_left_detail_forcast_job =60;
     spacing_bottom_detail_forcast_job =120;
     margin_left_detail_forcast_job =110;
     margin_top_detail_forcast_job =70;
     margin_right_detail_forcast_job =245;
     margin_bottom_detail_forcast_job =96;
     offset_x_title_detail_forcast_job =49;
     offset_y_title_detail_forcast_job =54;
     y_legend_detail_forcast_job =40;
     x_legend_detail_forcast_job =-22;
     label_x_detail_forcast_job = -16;
     label_y_detail_forcast_job = 24;
     point_width_detail_focast_job = 15;
     item_margin_bottom_detail_focast_job = 3;
     item_margin_top_detail_focast_job = 3;
    //end forcast ethnicity

     item_margin_bottom = 5;
     item_margin_bottom_detail_income = 10;

     font_size_legend_income='11px';
     font_size_label_income='12px';
     point_width_income = 10;
     point_width_detail_income = 19;
     point_width_age = 40

     item_margin_bottom_forcast_ethnicity = 3;
     item_margin_bottom_detail_age = 10;
     item_margin_bottom_forcast_income = 3;

     color = "#636363";
     overview_margin = [0, 0, 0, 0];
     overview_axisLable = '9pt';//9
     overview_axisData = '6.75pt';//8
     overview_Legend = '6pt';//8
     pie_chart_data = '6.75pt';//8

     detail_axisLable = '13.5pt';
     detail_axisData = '10.5pt';
     detail_legend = '10.5pt';
     detail_callout = '6.75pt';
     detail_pie_chart_data = '10.5pt';
     
     detail_spacing_left = 15;
     detail_spacing_right = 15;
     detail_symbol_height=12;
     detail_symbol_width=16;
     margin_title = 20;
     detail_margin = [0, 0, 0, 0];
     chart_detail_fontSize = '10pt';
     chart_fontSize = '10pt';
     chart_marginTop = 150;
     chart_size_ethnicity='62%';
     chart_size_inner_ethnicity='60%';
     chart_size_housing='62%';
     pie_distance = 20;
}
function loadAvgSize(){
    font_size_tool_tip='7.875pt';
    font_size_detail_tool_tip='7.875pt';
    
    align_legend = 'center';
    vertical_align_legend = 'bottom';
    layout_legend = 'horizontal';
    
    overview_axisLable = '9pt';//9
    overview_axisData = '7.5pt';//8
    overview_Legend = '7.5pt';//8
    pie_chart_data = '7.5pt';//8

    detail_axisLable = '13.5pt';
    detail_axisData = '10.5pt';
    detail_legend = '10.5pt';
    detail_callout = '6.75pt';
    detail_pie_chart_data = '10.5pt';
    //age
    a_age=25;
    b_age=23;
    c_age=10;
    margin_top_age = 37;
    margin_bottom_age = 52 + b_age + c_age;//+b+c
    margin_left_age=47 +a_age;//+a

    margin_right_age=15;
    spacing_left_age=30;;
    spacing_bottom_age=35+c_age;//+c

    offset_y_title_age = 27 + a_age;//+a
    offset_x_title_age = 20 + b_age;//+b
    y_legend_age = 45;//55
    point_width_detail_income = 18;
    point_width_age = 40
    /* income */
    a_income=13;
    b_income=60;
    c_income=10;
    margin_top_income = 37;
    margin_bottom_income = 48 + b_income + c_income;//+b+c
    margin_left_income=60 +a_income;//+a->60

    margin_right_income=15;
    spacing_left_income=30;
    spacing_bottom_income = 50+c_income;//+c

    offset_y_title_income = 40 + a_income;//+a->40
    offset_x_title_income = 16 + b_income;//+b
    y_legend_income = offset_y_title_income + 7;//->55
    x_legend_income = 0;
    y_title_income=25;
    /* end income */

    /* over view mobile forcast_ethnicity */
     a_forcast_ethnicity=13;
     b_forcast_ethnicity=35;
     c_forcast_ethnicity=35;
     margin_top_forcast_ethnicity = 37;
     margin_bottom_forcast_ethnicity = 32 + b_forcast_ethnicity + c_forcast_ethnicity;//+b+c
     margin_left_forcast_ethnicity=60 +a_forcast_ethnicity;//+a

     margin_right_forcast_ethnicity=5;
     spacing_left_forcast_ethnicity=30;
     spacing_bottom_forcast_ethnicity=25+c_forcast_ethnicity;//+c

     offset_y_title_forcast_ethnicity = 33 + a_forcast_ethnicity;//
     offset_x_title_forcast_ethnicity = 5 + b_forcast_ethnicity;//+b
     y_legend_forcast_ethnicity = 58;
     x_legend_forcast_ethnicity= 9;
    /*end over view mobile age */

    // detail mobile forcast_ethnicity 
     a_detail_forcast__ethnicity=13;
     b_detail_forcast_ethnicity=35;
     c_detail_forcast_ethnicity=35;
     margin_top_detail_forcast_ethnicity = 52;
     margin_bottom_detail_forcast_ethnicity = 92 + b_detail_forcast_ethnicity + c_detail_forcast_ethnicity;//+b+c
     margin_left_detail_forcast_ethnicity=80 +a_detail_forcast__ethnicity;//70

     margin_right_detail_forcast_ethnicity=20;
     spacing_left_detail_forcast_ethnicity=60;
     spacing_bottom_detail_forcast_ethnicity=0+c_detail_forcast_ethnicity;//+c

     offset_y_title_detail_forcast_ethnicity = 50 + a_detail_forcast__ethnicity;//40
     offset_x_title_detail_forcast_ethnicity = 25 + b_detail_forcast_ethnicity;//+b
     y_legend_detail_forcast_ethnicity = 13;
     x_legend_detail_forcast_ethnicity = -8;
     label_x_detail_forcast_ethnicity = 25;
     item_margin_top_detail_forcast_ethnicity=0;
     item_margin_bottom_detail_forcast_ethnicity=0;
    /*end detail mobile forcast_ethnicity */

    /* over view mobile forcast_housing */
     a_forcast_housing=13;
     b_forcast_housing=22;
     c_forcast_housing=22;
     margin_top_forcast_housing = 37;
     margin_bottom_forcast_housing = 57 + b_forcast_housing + c_forcast_housing;//+b+c
     margin_left_forcast_housing=60 +a_forcast_housing;//+a

     margin_right_forcast_housing=15;
     spacing_left_forcast_housing=30;
     spacing_bottom_forcast_housing=45+c_forcast_housing;//+c

     offset_y_title_forcast_housing = 26 + a_forcast_housing;//+a
     offset_x_title_forcast_housing = 17 + b_forcast_housing;//+b
     y_legend_forcast_housing =65;
     x_legend_forcast_housing = 0;
    /*end over view mobile age */

    /* detail mobile forcast_housing */
     show_call_out=1;
     a_detail_forcast_housing = 13;
     b_detail_forcast_housing = 22;
     c_detail_forcast_housing = 30;
     margin_top_detail_forcast_housing = 52;
     margin_bottom_detail_forcast_housing = 92 + b_detail_forcast_housing + c_detail_forcast_housing;//+b+c
     margin_left_detail_forcast_housing=80 +a_detail_forcast_housing;//+a

     margin_right_detail_forcast_housing=20;
     spacing_left_detail_forcast_housing=60;
     spacing_bottom_detail_forcast_housing=0+c_detail_forcast_housing;//77

     offset_y_title_detail_forcast_housing = 50 + a_detail_forcast_housing;//+a
     offset_x_title_detail_forcast_housing = 37 + b_detail_forcast_housing;//+b
     y_legend_detail_forcast_housing = 11;//47
     x_legend_detail_forcast_housing =0;
     label_x_detail_forcast_housing = 25;
     item_margin_bottom_detail_focast_housing = 0;
     item_margin_top_detail_focast_housing = 0;
    /*end detail mobile housing */
    
    /* detail mobile age */
     a_detail_age=25;
     b_detail_age=23;
     c_detail_age=10;
     margin_top_detail_age = 52;//52
     margin_bottom_detail_age = 106 + b_detail_age + c_detail_age;//+b+c
     margin_left_detail_age=70 +a_detail_age;//+a

     margin_right_detail_age = 20;
     spacing_left_detail_age = 60;
     spacing_bottom_detail_age = 77+c_age;//+c

     offset_y_title_detail_age = 40 + a_detail_age;//+a
     offset_x_title_detail_age = 33 + b_detail_age;//+b
	 y_label_detail_age=20;
	 y_legend_detail_age=69;
	 x_legend_detail_age = 0;
    /*end over view mobile age */
    //mobile detail income
     a_detail_income=13;
     b_detail_income=60;
     c_detail_income=10;
     margin_top_detail_income = 52;//52
     margin_bottom_detail_income = 107 + b_detail_income + c_detail_income;//+b+c
     margin_left_detail_income=80 +a_detail_income;//+a

     margin_right_detail_income = 20;
     spacing_left_detail_income = 60;
     spacing_bottom_detail_income = 77+c_income;//+c

     offset_y_title_detail_income = 50 + a_detail_income;//+a
     offset_x_title_detail_income = 31 + b_detail_income;//+b
     y_legend_detail_income = 65;//47
	 point_width_income=10;
	 y_label_detail_income=15;
	 x_legend_detail_income = 0;
     
    //end income
    
    /* over view mobile forcast_income */
     a_forcast_income=13;
     b_forcast_income=35;
     c_forcast_income=22;
     margin_top_forcast_income = 37;
     margin_bottom_forcast_income = 75 + b_forcast_income + c_forcast_income;//+b+c
     margin_left_forcast_income=50 +a_forcast_income;//+a

     margin_right_forcast_income=8;
     spacing_left_forcast_income=30;
     spacing_bottom_forcast_income=45+c_forcast_income;//+c

     offset_y_title_forcast_income = 20 + a_forcast_income;//+a
     offset_x_title_forcast_income = 35 + b_forcast_income;//+b
     y_legend_forcast_income = 65;
     y_title_forcast_income = 25;
     x_legend_forcast_income =3;
    /*end over view mobile age */

    /* detail mobile forcast_income */
     rotation_detail_forcast_income=-45;
     a_detail_forcast_income = 13;
     b_detail_forcast_income = 45;
     c_detail_forcast_income = 30;
     margin_top_detail_forcast_income = 52;
     margin_bottom_detail_forcast_income = 112 + b_detail_forcast_income + c_detail_forcast_income;//+b+c
     margin_left_detail_forcast_income=80 +a_detail_forcast_income;//70

     margin_right_detail_forcast_income=20;
     spacing_left_detail_forcast_income=60;
     spacing_bottom_detail_forcast_income=0+c_detail_forcast_income;//+c

     offset_y_title_detail_forcast_income = 50 + a_detail_forcast_income;//40
     offset_x_title_detail_forcast_income = 57 + b_detail_forcast_income;//+b
     y_legend_detail_forcast_income = 10;
     x_legend_detail_forcast_income = 0;
     label_x_detail_forcast_income=25;
     item_margin_bottom_detail_focast_income = 0;
     item_margin_top_detail_focast_income = 0;
     new_line_forcast_income=1;
    /*end detail mobile housing */

    /* over view mobile forcast_job */
     a_forcast_job=23;
     b_forcast_job=20;
     c_forcast_job=24;
     margin_top_forcast_job = 37;
     margin_bottom_forcast_job = 53 + b_forcast_job + c_forcast_job;//+b+c
     margin_left_forcast_job=60 +a_forcast_job;//+a

     margin_right_forcast_job=15;
     spacing_left_forcast_job=30;;
     spacing_bottom_forcast_job=25+c_forcast_job;//+c

     offset_y_title_forcast_job = 14 + a_forcast_job;//+a
     offset_x_title_forcast_job = 35 + b_forcast_job;//+b
     y_legend_forcast_job = 45;
     x_legend_forcast_job = 0;
    /*end over view mobile age */

    /* detail mobile forcast_job */
     a_detail_forcast_job = 25;
     b_detail_forcast_job = 24;
     c_detail_forcast_job = 15;
     margin_top_detail_forcast_job = 52;
     margin_bottom_detail_forcast_job = 125 + b_detail_forcast_job + c_detail_forcast_job;//+b+c
     margin_left_detail_forcast_job=80 +a_detail_forcast_job;//+a

     margin_right_detail_forcast_job=20;
     spacing_left_detail_forcast_job=60;;
     spacing_bottom_detail_forcast_job=20+c_detail_forcast_job;//+c

     offset_y_title_detail_forcast_job = 32 + a_detail_forcast_job;//+a
     offset_x_title_detail_forcast_job = 35 + b_detail_forcast_job;//+b
     y_legend_detail_forcast_job = 20;
     x_legend_detail_forcast_job = -20;
     point_width_detail_focast_job = 20;
     item_margin_bottom_detail_focast_job = 5.25;
     item_margin_top_detail_focast_job = 0;
/*end detail mobile job */
    chart_size_ethnicity='62%';
    chart_size_inner_ethnicity='60%';
    chart_size_housing='62%';
    pie_distance = 20;
}
function loadMiniSize(){
    font_size_tool_tip='13.5pt';
    font_size_detail_tool_tip='13.5pt';
    
    overview_axisLable = '10.5pt';//9
    overview_axisData = '9pt';//8
    overview_Legend = '9pt';//8
    pie_chart_data = '9pt';//8

    detail_axisLable = '10.5pt';
    detail_axisData = '9pt';
    detail_legend = '9pt';
    detail_callout = '6.75pt';
    detail_pie_chart_data = '9pt';
    /* over view mobile age */
     a_age=25;
     b_age=23;
     c_age=10;
     margin_top_age = 52;//52
     margin_bottom_age = 88 + b_age + c_age;//+b+c
     margin_left_age=70 +a_age;//+a

     margin_right_age=20;
     spacing_left_age=60;
     spacing_bottom_age=65+c_age;//+c

     offset_y_title_age = 47 + a_age;//+a
     offset_x_title_age = 29 + b_age;//+b
     y_legend_age = 55;//47
    /*end over view mobile age */
    
    /* detail mobile age */
     a_detail_age=25;
     b_detail_age=23;
     c_detail_age=10;
     margin_top_detail_age = 52;//52
     margin_bottom_detail_age = 91 + b_detail_age + c_detail_age;//+b+c
     margin_left_detail_age=70 +a_detail_age;//+a

     margin_right_detail_age = 20;
     spacing_left_detail_age = 60;
     spacing_bottom_detail_age = 74+c_age;//+c

     offset_y_title_detail_age = 40 + a_detail_age;//+a
     offset_x_title_detail_age = 30 + b_detail_age;//+b
	 point_width_age=12;
	 y_label_detail_age=15;
	 y_legend_detail_age=59;
	 x_legend_detail_age = 0;
    /*end over view mobile age */
    
    /* over view mobile income */
     a_income=13;
     b_income=60;
     c_income=10;
     margin_top_income = 52;
     margin_bottom_income = 95 + b_income + c_income;//+b+c
     margin_left_income = 80 +a_income;//+a

     margin_right_income = 20;
     spacing_left_income = 50;
     spacing_bottom_income = 67+c_income;//+c

     offset_y_title_income = 58 + a_income;//+a
     offset_x_title_income = 32 + b_income;//+b
     y_legend_income = 55;//47
     x_legend_income = -30;
	 group_padding_income = 0.16;
    //end over view mobile income 
    
    //mobile detail income
     a_detail_income=13;
     b_detail_income=60;
     c_detail_income=10;
     margin_top_detail_income = 52;//52
     margin_bottom_detail_income = 95 + b_detail_income + c_detail_income;//+b+c
     margin_left_detail_income=70 +a_detail_income;//+a

     margin_right_detail_income = 20;
     spacing_left_detail_income = 40;
     spacing_bottom_detail_income = 77+c_income;//+c

     offset_y_title_detail_income = 47 + a_detail_income;//+a
     offset_x_title_detail_income = 32+ b_detail_income;//+b
     y_legend_detail_income = 63;//47
	 point_width_income=10;
	 y_label_detail_income=15;
	 x_legend_detail_income = -20;
    //end income
    
    // over view mobile forcast_ethnicity 
     a_forcast_ethnicity=13;
     b_forcast_ethnicity=22;
     c_forcast_ethnicity=45;
     margin_top_forcast_ethnicity = 52;
     margin_bottom_forcast_ethnicity = 73 + b_forcast_ethnicity + c_forcast_ethnicity;//+b+c
     margin_left_forcast_ethnicity=70 +a_forcast_ethnicity;//+a

     margin_right_forcast_ethnicity=15;
     spacing_left_forcast_ethnicity=40;;
     spacing_bottom_forcast_ethnicity=0+c_forcast_ethnicity;//+c

     offset_y_title_forcast_ethnicity = 40 + a_forcast_ethnicity;//+a
     offset_x_title_forcast_ethnicity = 28 + b_forcast_ethnicity;//+b
     y_legend_forcast_ethnicity = 24;
     x_legend_forcast_ethnicity= -15;
    /*end over view mobile age */
    
    // detail mobile forcast_ethnicity 
     a_detail_forcast__ethnicity=13;
     b_detail_forcast_ethnicity=22;
     c_detail_forcast_ethnicity=45;
     margin_top_detail_forcast_ethnicity = 52;
     margin_bottom_detail_forcast_ethnicity = 90 + b_detail_forcast_ethnicity + c_detail_forcast_ethnicity;//+b+c
     margin_left_detail_forcast_ethnicity=70 +a_detail_forcast__ethnicity;//+a

     margin_right_detail_forcast_ethnicity=20;
     spacing_left_detail_forcast_ethnicity=60;;
     spacing_bottom_detail_forcast_ethnicity=0+c_detail_forcast_ethnicity;//+c

     offset_y_title_detail_forcast_ethnicity = 40 + a_detail_forcast__ethnicity;//+a
     offset_x_title_detail_forcast_ethnicity = 27 + b_detail_forcast_ethnicity;//+b
     y_legend_detail_forcast_ethnicity = 27;
     x_legend_detail_forcast_ethnicity = 0;
     label_x_detail_forcast_ethnicity = 15;
	 item_margin_top_detail_forcast_ethnicity=0;
	 item_margin_bottom_detail_forcast_ethnicity=5;
    /*end detail mobile forcast_ethnicity */
    
    /* over view mobile forcast_housing */
     a_forcast_housing = 13;
     b_forcast_housing = 22;
     c_forcast_housing = 30;
     margin_top_forcast_housing = 52;
     margin_bottom_forcast_housing = 87 + b_forcast_housing + c_forcast_housing;//+b+c
     margin_left_forcast_housing=70 +a_forcast_housing;//+a

     margin_right_forcast_housing=20;
     spacing_left_forcast_housing=60;;
     spacing_bottom_forcast_housing=15+c_forcast_housing;//77

     offset_y_title_forcast_housing = 35 + a_forcast_housing;//+a
     offset_x_title_forcast_housing = 28 + b_forcast_housing;//+b
     y_legend_forcast_housing = 24;//47
     x_legend_forcast_housing = 0;
    /*end over view mobile housing */
    
    /* detail mobile forcast_housing */
     a_detail_forcast_housing = 13;
     b_detail_forcast_housing = 22;
     c_detail_forcast_housing = 30;
     margin_top_detail_forcast_housing = 52;
     margin_bottom_detail_forcast_housing = 85 + b_detail_forcast_housing + c_detail_forcast_housing;//+b+c
     margin_left_detail_forcast_housing=70 +a_detail_forcast_housing;//+a

     margin_right_detail_forcast_housing=20;
     spacing_left_detail_forcast_housing=60;;
     spacing_bottom_detail_forcast_housing=15+c_detail_forcast_housing;//77

     offset_y_title_detail_forcast_housing = 40 + a_detail_forcast_housing;//+a
     offset_x_title_detail_forcast_housing = 28 + b_detail_forcast_housing;//+b
     y_legend_detail_forcast_housing = 25;//47
     x_legend_detail_forcast_housing =0;
     label_x_detail_forcast_housing = 15;
     item_margin_bottom_detail_focast_housing = 5;
     item_margin_top_detail_focast_housing = 0;
    /*end detail mobile housing */
    
    /* over view mobile forcast_income */
     a_forcast_income = 13;
     b_forcast_income = 45;
     c_forcast_income = 30;
     margin_top_forcast_income = 52;
     margin_bottom_forcast_income = 98 + b_forcast_income + c_forcast_income;//+b+c
     margin_left_forcast_income=70 +a_forcast_income;//+a

     margin_right_forcast_income=15;
     spacing_left_forcast_income=60;
     spacing_bottom_forcast_income=0+c_forcast_income;//+c

     offset_y_title_forcast_income = 42 + a_forcast_income;//+a
     offset_x_title_forcast_income = 38 + b_forcast_income;//+b
     y_legend_forcast_income = 9;
     x_legend_forcast_income =-3;
    /*end over view mobile housing */
    
    /* detail mobile forcast_income */
     a_detail_forcast_income = 13;
     b_detail_forcast_income = 45;
     c_detail_forcast_income = 30;
     margin_top_detail_forcast_income = 52;
     margin_bottom_detail_forcast_income = 107 + b_detail_forcast_income + c_detail_forcast_income;//+b+c
     margin_left_detail_forcast_income=70 +a_detail_forcast_income;//+a

     margin_right_detail_forcast_income=20;
     spacing_left_detail_forcast_income=60;
     spacing_bottom_detail_forcast_income=0+c_detail_forcast_income;//+c

     offset_y_title_detail_forcast_income = 40 + a_detail_forcast_income;//+a
     offset_x_title_detail_forcast_income = 43 + b_detail_forcast_income;//+b
     y_legend_detail_forcast_income = 5;
     x_legend_detail_forcast_income = 0;
     label_x_detail_forcast_income=15;
     item_margin_bottom_detail_focast_income = 0;
     item_margin_top_detail_focast_income = 0;
     rotation_detail_forcast_income=-45;
    /*end detail mobile housing */
    
    /* over view mobile forcast_job */
     a_forcast_job = 25;
     b_forcast_job = 24;
     c_forcast_job = 55;
     margin_top_forcast_job = 52;
     margin_bottom_forcast_job = 73 + b_forcast_job + c_forcast_job;//+b+c
     margin_left_forcast_job=70 +a_forcast_job;//+a

     margin_right_forcast_job=20;
     spacing_left_forcast_job=60;;
     spacing_bottom_forcast_job=0+c_forcast_job;//+c

     offset_y_title_forcast_job = 21 + a_forcast_job;//+a
     offset_x_title_forcast_job = 40 + b_forcast_job;//+b
     y_legend_forcast_job = 36;//40
     x_legend_forcast_job = -20;
    /*end over view mobile job */
    
    /* detail mobile forcast_job */
     a_detail_forcast_job = 25;
     b_detail_forcast_job = 24;
     c_detail_forcast_job = 55;
     margin_top_detail_forcast_job = 52;
     margin_bottom_detail_forcast_job = 70 + b_detail_forcast_job + c_detail_forcast_job;//+b+c
     margin_left_detail_forcast_job=70 +a_detail_forcast_job;//+a

     margin_right_detail_forcast_job=20;
     spacing_left_detail_forcast_job=60;
     spacing_bottom_detail_forcast_job=0+c_detail_forcast_job;//+c

     offset_y_title_detail_forcast_job = 17 + a_detail_forcast_job;//+a
     offset_x_title_detail_forcast_job = 40 + b_detail_forcast_job;//+b
     y_legend_detail_forcast_job = 35;
     x_legend_detail_forcast_job = -20;
     point_width_detail_focast_job = 10;
     item_margin_bottom_detail_focast_job = 5;
     item_margin_top_detail_focast_job = 0;
    /*end detail mobile job */
    
     align_legend = 'center';
     vertical_align_legend = 'bottom';
     layout_legend = 'horizontal';
    
     item_margin_bottom =-10;
     item_margin_bottom_detail_income = 5;
     item_margin_bottom_detail_age = -5;
     item_margin_bottom_forcast_ethnicity = 0;
     item_margin_bottom_forcast_income = 0;
    

     point_width_detail_income = 6;
    
     font_size_label_income='9px';
     font_size_legend_income='10px';
     color = "#3C3C3C ";
    
     detail_symbol_height=8;
     detail_symbol_width=12;
     
    chart_size_ethnicity='37%';
    chart_size_inner_ethnicity='60%';
    chart_size_housing='37%';
    pie_distance = 8;
}
function reChart1(){
    if(sum_key_ethnicity > 0){
        para_over_ethnicity.series[0].data = dataArrayEthnicity;
        para_over_ethnicity.series[0].startAngle = sAgEthnicity;
        para_over_ethnicity.series[0].size = chart_size_ethnicity;
        para_over_ethnicity.series[0].innerSize = chart_size_inner_ethnicity;
        para_over_ethnicity.plotOptions.pie.dataLabels.style.fontSize=pie_chart_data;
        var chart_ethnicity = new Highcharts.Chart(para_over_ethnicity,function(objChart){});

        var width = $("#chart-detail").width();
        para_detail_ethnicity.series[0].data = dataDetailArrayEthnicity;
        para_detail_ethnicity.series[0].startAngle = sAgEthnicity;
        para_detail_ethnicity.series[0].size = chart_size_ethnicity;
        para_detail_ethnicity.series[0].innerSize = chart_size_inner_ethnicity;
        para_detail_ethnicity.chart.width=width;
        para_detail_ethnicity.plotOptions.pie.dataLabels.style.fontSize=detail_pie_chart_data;
        para_detail_ethnicity.plotOptions.pie.dataLabels.distance = pie_distance;
        var chart_detail_ethnicity = new Highcharts.Chart(para_detail_ethnicity,function(objChart){});
        createMenu('detail')
    }else{
        $('#chart-1').highcharts({
            chart: {
                style: {
                    color:color,
                },
            },
            credits: {
                enabled: false
            },
            title: {
                text: '',
                style:{
                    color:color,
                }
            },
            series: [{
                type: 'pie',
                name: 'Random data',
                data: []
            }],
            lang: {
                noData: "Data not available."
            },
            noData: {
                style: {
                    fontWeight: 'normal',
                    fontSize: '12pt',
                    fontFamily: chart_fontFamily,
                    color: color
                }
            },
            exporting: {
                enabled: false
            }
        });
    }
}
function reDetailChart1(){
    var width = $("#chart-detail").width();
    para_detail_ethnicity.series[0].data = dataDetailArrayEthnicity;
    para_detail_ethnicity.series[0].startAngle = sAgEthnicity;
    para_detail_ethnicity.series[0].size = chart_size_ethnicity;
    para_detail_ethnicity.series[0].innerSize = chart_size_inner_ethnicity;
    para_detail_ethnicity.chart.width=width;
    para_detail_ethnicity.plotOptions.pie.dataLabels.style.fontSize=detail_pie_chart_data;
    para_detail_ethnicity.plotOptions.pie.dataLabels.distance = pie_distance;
    var chart_detail_ethnicity = new Highcharts.Chart(para_detail_ethnicity,function(objChart){});
    createMenu('detail')
}
function reChart2(){
    $('#chart-2').html('');
    if(sum_key_housing > 0){
        para_over_housing.series[0].data = dataArrayHousing;
        para_over_housing.plotOptions.pie.dataLabels.style.fontSize=pie_chart_data;
        para_over_housing.series[0].size = chart_size_housing;
        var chart_over_housing = new Highcharts.Chart(para_over_housing,function(obj){
            var xr1=0,xr2=0,yr1=0,yr2=0;
            var window_width = $(window).width();
            var heigh_chart = $('#chart-2').height();
            var width_chart= $('#chart-2').width();
            var size_chart=chart_size_housing.replace('%','');    

            $.each(obj.series[0].data, function(i, point) {
                var min_size = heigh_chart;
                if(heigh_chart > width_chart){
                    min_size = width_chart
                    xr1 = (min_size*(100-size_chart)/2)/100;
                    xr2 = (min_size*(100-((100-size_chart)/2)))/100;

                    yr1=(heigh_chart*(100-size_chart)/2)/100;
                    yr2=(heigh_chart*(100-((100-size_chart)/2)))/100;
                }else{
                    yr1 = (min_size*(100-size_chart)/2)/100;
                    yr2 = (min_size*(100-((100-size_chart)/2)))/100;

                    xr1=(width_chart*(100-size_chart)/2)/100;
                    xr2=(width_chart*(100-((100-size_chart)/2)))/100;
                }
                
                if(point.name=="Multifamily" || point.name=="Single Family - Multiple Unit"){
                    if(point.dataLabel.y <yr1 && (point.dataLabel.y+35) > yr1){
                        var new_y = point.dataLabel.y -10;
                        point.dataLabel.attr({y: new_y});
                    }
                }else if(point.name=="Mobile Home"){
                    if(point.dataLabel.x-100 < 0){
                        var new_x = point.dataLabel.x +12;
                        var new_y = point.dataLabel.y - 10;
                        point.dataLabel.attr({x: new_x});
                        point.dataLabel.attr({y: new_y});
                    }
                }else if(point.name=="Single Family - Detached"){
                    if(point.dataLabel.y + 50 > yr1 && point.dataLabel.y < yr1){
                        var new_x = point.dataLabel.x +10;
                        point.dataLabel.attr({x: new_x});
                        
                        var new_y = point.dataLabel.y -10 -(yr1-point.dataLabel.y);
                        point.dataLabel.attr({y: new_y});
                    }
                }
                
            })
        });

        var width = $("#chart-detail_2").width();
        para_detail_housing.series[0].data = dataArrayHousing;
        para_detail_housing.chart.width=width;
        para_detail_housing.series[0].size = chart_size_housing;
        para_detail_housing.plotOptions.pie.dataLabels.style.fontSize=detail_pie_chart_data;
        para_detail_housing.plotOptions.pie.dataLabels.distance = pie_distance
        var chart_detail_housing = new Highcharts.Chart(para_detail_housing,function(obj){
            var xr1=0,xr2=0,yr1=0,yr2=0;
            var window_width = $(window).width();
            var heigh_chart = $('#chart-detail_2').height();
            var width_chart= $('#chart-detail_2').width();
            var size_chart=chart_size_housing.replace('%','');    

            $.each(obj.series[0].data, function(i, point) {
                var min_size = heigh_chart;
                if(heigh_chart > width_chart){
                    min_size = width_chart
                    xr1 = (min_size*(100-size_chart)/2)/100;
                    xr2 = (min_size*(100-((100-size_chart)/2)))/100;

                    yr1=(heigh_chart*(100-size_chart)/2)/100;
                    yr2=(heigh_chart*(100-((100-size_chart)/2)))/100;
                }else{
                    yr1 = (min_size*(100-size_chart)/2)/100;
                    yr2 = (min_size*(100-((100-size_chart)/2)))/100;

                    xr1=(width_chart*(100-size_chart)/2)/100;
                    xr2=(width_chart*(100-((100-size_chart)/2)))/100;
                }
                
                if(point.name=="Multifamily" || point.name=="Single Family - Multiple Unit"){
                    if(point.dataLabel.y <yr1 && (point.dataLabel.y+35) > yr1){
                        var new_y = point.dataLabel.y -15;
                        point.dataLabel.attr({y: new_y});
                    }else if(point.dataLabel.x -110  < 0 && point.dataLabel.y > yr1){
                        var new_x = point.dataLabel.x + 15;
                        point.dataLabel.attr({x: new_x});

                        var new_y = point.dataLabel.y -15;
                        point.dataLabel.attr({y: new_y});
                    }
                    if(sAgHousing != 0 && point.dataLabel.y <yr1){
                        var new_x = point.dataLabel.x + 30;
                        point.dataLabel.attr({x: new_x});

                        var new_y = point.dataLabel.y -15;
                        point.dataLabel.attr({y: new_y});
                    }
                }else if(point.name=="Single Family - Detached"){
                    if(point.dataLabel.y + 50 > yr1 && point.dataLabel.y < yr1){
                        var new_x = point.dataLabel.x +10;

                        var new_y = point.dataLabel.y -10 -(yr1-point.dataLabel.y);
                        point.dataLabel.attr({x: new_x});
                        point.dataLabel.attr({y: new_y});
                    }
                }else if(point.name=="Mobile Home"){
                    if( point.dataLabel.y < yr1){
                        if(point.dataLabel.x-110 < 0){
                            var new_x = point.dataLabel.x +12;
                            var new_y = point.dataLabel.y +10;
                            point.dataLabel.attr({x: new_x});
                            point.dataLabel.attr({y: new_y});
                        }else{
                            var new_y = point.dataLabel.y -15;
                            point.dataLabel.attr({y: new_y});
                        }
                    }else if(point.dataLabel.x-110 < 0 && point.dataLabel.y > yr1){
                        var new_x = point.dataLabel.x +25;
                        point.dataLabel.attr({x: new_x})

                        var new_y = point.dataLabel.y - 15;
                        point.dataLabel.attr({y: new_y});
                    }
                }

            })
        });
        createMenu('detail_2')
    }else{
        $('#chart-2').highcharts({
            chart:{
                style:{
                    color:color,
                }
            },
            credits: {
                enabled: false
            },
            title: {
                text: '',
                style:{
                    color:color,
                }
            },
            series: [{
                type: 'pie',
                name: 'Random data',
                data: []
            }],
            lang: {
                noData: "Data not available."
            },
            noData: {
                style: {
                    fontWeight: 'normal',
                    fontSize: '12pt',
                    fontFamily: chart_fontFamily,
                    color: color
                }
            },
            exporting: {
                enabled: false
            }
        });
    }
}
function reDetailChart2(){
    var width = $("#chart-detail_2").width();
    para_detail_housing.series[0].data = dataArrayHousing;
    para_detail_housing.chart.width=width;
    para_detail_housing.series[0].size = chart_size_housing;
    para_detail_housing.plotOptions.pie.dataLabels.style.fontSize=detail_pie_chart_data;
    para_detail_housing.plotOptions.pie.dataLabels.distance = pie_distance
    var chart_detail_housing = new Highcharts.Chart(para_detail_housing,function(obj){
        var xr1=0,xr2=0,yr1=0,yr2=0;
        var window_width = $(window).width();
        var heigh_chart = $('#chart-detail_2').height();
        var width_chart= $('#chart-detail_2').width();
        var size_chart=chart_size_housing.replace('%','');    

        $.each(obj.series[0].data, function(i, point) {
            var min_size = heigh_chart;
            if(heigh_chart > width_chart){
                min_size = width_chart
                xr1 = (min_size*(100-size_chart)/2)/100;
                xr2 = (min_size*(100-((100-size_chart)/2)))/100;

                yr1=(heigh_chart*(100-size_chart)/2)/100;
                yr2=(heigh_chart*(100-((100-size_chart)/2)))/100;
            }else{
                yr1 = (min_size*(100-size_chart)/2)/100;
                yr2 = (min_size*(100-((100-size_chart)/2)))/100;

                xr1=(width_chart*(100-size_chart)/2)/100;
                xr2=(width_chart*(100-((100-size_chart)/2)))/100;
            }
            
            if(point.name=="Multifamily" || point.name=="Single Family - Multiple Unit"){
                if(point.dataLabel.y <yr1 && (point.dataLabel.y+35) > yr1){
                    var new_y = point.dataLabel.y -15;
                    point.dataLabel.attr({y: new_y});
                }else if(point.dataLabel.x -110  < 0 && point.dataLabel.y > yr1){
                    var new_x = point.dataLabel.x + 15;
                    point.dataLabel.attr({x: new_x});

                    var new_y = point.dataLabel.y -15;
                    point.dataLabel.attr({y: new_y});
                }
                if(sAgHousing != 0 && point.dataLabel.y <yr1){
                    var new_x = point.dataLabel.x + 30;
                    point.dataLabel.attr({x: new_x});

                    var new_y = point.dataLabel.y -15;
                    point.dataLabel.attr({y: new_y});
                }
            }else if(point.name=="Single Family - Detached"){
                if(point.dataLabel.y + 50 > yr1 && point.dataLabel.y < yr1){
                    var new_x = point.dataLabel.x +10;
                    
                    var new_y = point.dataLabel.y -10 -(yr1-point.dataLabel.y);
                    point.dataLabel.attr({x: new_x});
                    point.dataLabel.attr({y: new_y});
                }
            }else if(point.name=="Mobile Home"){
                if(point.dataLabel.y < yr1){
                    if(point.dataLabel.x-110 < 0){
                        var new_x = point.dataLabel.x +12;
                        var new_y = point.dataLabel.y +10;
                        point.dataLabel.attr({x: new_x});
                        point.dataLabel.attr({y: new_y});
                    }else{
                        var new_y = point.dataLabel.y -15;
                        point.dataLabel.attr({y: new_y});
                    }
                }else if(point.dataLabel.x-110 < 0 && point.dataLabel.y > yr1){
                    var new_x = point.dataLabel.x +25;
                    point.dataLabel.attr({x: new_x})
                    
                    var new_y = point.dataLabel.y - 15;
                    point.dataLabel.attr({y: new_y});
                }
            }

        })  
    });
    createMenu('detail_2')
}
function reChart4(){
    if($('#set_location_popuplate').val()>0){
        para_over_age.series = arrDataAge;
        para_over_age.xAxis.categories = categories_over_age;
        para_over_age.yAxis.max = max_over_age;

        para_over_age.legend.itemStyle.fontSize = overview_Legend;
        para_over_age.legend.layout = layout_legend;
        para_over_age.legend.align = align_legend;
        para_over_age.legend.verticalAlign = vertical_align_legend;
        para_over_age.legend.y = y_legend_age;
        para_over_age.legend.x = x_legend_age;
        para_over_age.legend.itemMarginBottom = 5;

        para_over_age.chart.style.fontFamily=chart_fontFamily;
        para_over_age.chart.style.fontSize=chart_fontSize;
        para_over_age.chart.style.fontWeight=chart_fontWeight;
        para_over_age.chart.spacingLeft = spacing_left_age;
        para_over_age.chart.spacingBottom = spacing_bottom_age;
        para_over_age.chart.marginLeft = margin_left_age;
        para_over_age.chart.marginRight = margin_right_age;
        para_over_age.chart.marginBottom = margin_bottom_age;
        para_over_age.chart.marginTop = margin_top_age;

        para_over_age.xAxis.title.offset = offset_x_title_age;
        para_over_age.xAxis.title.style.fontSize = overview_axisLable;
        para_over_age.xAxis.labels.style.fontSize = overview_axisData;
       
        para_over_age.yAxis.title.offset = offset_y_title_age;
        para_over_age.yAxis.offset =-8;
        para_over_age.yAxis.labels.style.fontSize = overview_axisData;
        para_over_age.yAxis.title.style.fontSize = overview_axisLable;
        var chart_over_age = new Highcharts.Chart(para_over_age,function(objChart){});

        var width = $("#chart-detail_3").width();
        para_detail_age.series= arrDataAge;
        para_detail_age.plotOptions.series.pointWidth= point_width_age;
        para_detail_age.xAxis.categories = categories_over_age;
        para_detail_age.xAxis.labels.y = y_label_detail_age;
        para_detail_age.yAxis.max = max_over_age;
        para_detail_age.chart.width=width;

        para_detail_age.legend.itemStyle.fontSize = detail_legend;
        para_detail_age.legend.layout = layout_legend;
        para_detail_age.legend.align = align_legend;
        para_detail_age.legend.verticalAlign = vertical_align_legend;
        para_detail_age.legend.y = y_legend_detail_age;
        para_detail_age.legend.x = x_legend_detail_age;
        para_detail_age.legend.itemMarginBottom = 0;
        para_detail_age.legend.itemMarginTop = 10;
        para_detail_age.legend.symbolPadding = 6;

        para_detail_age.chart.style.fontFamily=chart_fontFamily;
        para_detail_age.chart.style.fontSize=chart_fontSize;
        para_detail_age.chart.style.fontWeight=chart_fontWeight;
        para_detail_age.chart.spacingLeft = spacing_left_detail_age;
        para_detail_age.chart.spacingBottom = spacing_bottom_detail_age;
        para_detail_age.chart.marginLeft = margin_left_detail_age;
        para_detail_age.chart.marginRight = margin_right_detail_age;
        para_detail_age.chart.marginBottom = margin_bottom_detail_age;
        para_detail_age.chart.marginTop = margin_top_detail_age;

        para_detail_age.xAxis.title.offset = offset_x_title_detail_age;
        para_detail_age.xAxis.title.margin = margin_title;
        para_detail_age.xAxis.labels.style.fontSize = detail_axisData;
        para_detail_age.xAxis.title.style.fontSize = detail_axisLable;
        para_detail_age.yAxis.title.offset = offset_y_title_detail_age;
        para_detail_age.yAxis.labels.style.fontSize = detail_axisData;
        para_detail_age.yAxis.title.style.fontSize = detail_axisLable;
        var chart_detail_age = new Highcharts.Chart(para_detail_age,function(objChart){});
        createMenu('detail_3')
    }else{
        $('#chart-4').highcharts({
            chart:{
                style:{
                    color:color,
                }
            },
            credits: {
                enabled: false
            },
            title: {
                text: '',
                style:{
                    color:color,
                }
            },
            series: [{
                type: 'pie',
                name: 'Random data',
                data: []
            }],
            lang: {
                noData: "Data not available."
            },
            noData: {
                style: {
                    fontWeight: 'normal',
                    fontSize: '12pt',
                    fontFamily: chart_fontFamily,
                    color: color
                }
            },
            exporting: {
                enabled: false
            }
        });
    }
}
function reDetailChart4(){
    var width = $("#chart-detail_3").width();
    para_detail_age.series= arrDataAge;
    para_detail_age.plotOptions.series.pointWidth= point_width_age;
    para_detail_age.xAxis.categories = categories_over_age;
    para_detail_age.yAxis.max = max_over_age;
    para_detail_age.chart.width=width;

    para_detail_age.legend.itemStyle.fontSize = detail_legend;
    para_detail_age.legend.layout = layout_legend;
    para_detail_age.legend.align = align_legend;
    para_detail_age.legend.verticalAlign = vertical_align_legend;
    para_detail_age.legend.y = y_legend_detail_age;
    para_detail_age.legend.x = x_legend_detail_age;
    para_detail_age.legend.itemMarginBottom = 0;
    para_detail_age.legend.itemMarginTop = 10;
    para_detail_age.legend.symbolPadding = 6;

    para_detail_age.chart.style.fontFamily=chart_fontFamily;
    para_detail_age.chart.style.fontSize=chart_fontSize;
    para_detail_age.chart.style.fontWeight=chart_fontWeight;
    para_detail_age.chart.spacingLeft = spacing_left_detail_age;
    para_detail_age.chart.spacingBottom = spacing_bottom_detail_age;
    para_detail_age.chart.marginLeft = margin_left_detail_age;
    para_detail_age.chart.marginRight = margin_right_detail_age;
    para_detail_age.chart.marginBottom = margin_bottom_detail_age;
    para_detail_age.chart.marginTop = margin_top_detail_age;

    para_detail_age.xAxis.title.offset = offset_x_title_detail_age;
    para_detail_age.xAxis.title.margin = margin_title;
    para_detail_age.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_age.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_age.yAxis.title.offset = offset_y_title_detail_age;
    para_detail_age.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_age.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_age = new Highcharts.Chart(para_detail_age,function(objChart){});
    createMenu('detail_3')
}
function reChart5(){
    var window_width = $(window).width();
    para_over_income.series = arrDataIncome;
    para_over_income.xAxis.categories = categories_over_income;
    para_over_income.yAxis.max = max_over_income;

    para_over_income.legend.itemStyle.fontSize = overview_Legend;
    para_over_income.legend.layout = layout_legend;
    para_over_income.legend.align = align_legend;
    para_over_income.legend.verticalAlign = vertical_align_legend;
    para_over_income.legend.y = y_legend_income;
    para_over_income.legend.x = x_legend_income;
    para_over_income.legend.itemMarginBottom = 5;

    para_over_income.chart.style.fontFamily=chart_fontFamily;
    para_over_income.chart.style.fontSize=chart_fontSize;
    para_over_income.chart.style.fontWeight=chart_fontWeight;

    para_over_income.chart.spacingLeft = spacing_left_income;
    para_over_income.chart.spacingBottom = spacing_bottom_income;
    para_over_income.chart.marginLeft = margin_left_income;
    para_over_income.chart.marginRight = margin_right_income;
    para_over_income.chart.marginBottom = margin_bottom_income;
    para_over_income.chart.marginTop = margin_top_income;

    para_over_income.xAxis.title.offset = offset_x_title_income;
    para_over_income.xAxis.title.style.fontSize = overview_axisLable;
    para_over_income.xAxis.labels.style.fontSize = overview_axisData;
    para_over_income.yAxis.title.offset = offset_y_title_income;
    para_over_income.yAxis.title.y = y_title_income;
    para_over_income.yAxis.offset =-8;
    para_over_income.yAxis.labels.style.fontSize = overview_axisData;
    para_over_income.yAxis.title.style.fontSize = overview_axisLable;
    if(checkInternetExplorer()){
        var keyToDelete = "lineHeight";
        delete  para_over_income.legend.itemStyle[keyToDelete];
    }else{
        para_over_income.legend.itemStyle.lineHeight='11%';
    }
    if(window_width < 1024){
        para_over_income.legend.itemWidth = (width/2-10);
    }else{
        para_over_income.legend.itemWidth=80;
    }
    var chart_over_income = new Highcharts.Chart(para_over_income,function(objChart){});
    var width = $("#chart-detail_4").width();
    if(window_width < 1024){
        if(window_width>=768){
            para_detail_income.legend.itemWidth = 230;
        }
    }else{
        para_detail_income.legend.itemWidth=197;
    }
    if(window_width >=1024){
        para_detail_income.plotOptions.series.pointWidth = point_width_detail_income;
        para_detail_income.xAxis.labels.rotation=0;
    }else{
        var keyToDelete = "pointWidth";
        delete  para_detail_income.plotOptions.series[keyToDelete];
        keyToDelete = "rotation";
        delete  para_detail_income.xAxis.labels[keyToDelete];
    }
    //para_detail_income.plotOptions.series.pointWidth= point_width_detail_income;
    para_detail_income.series = arrDataIncome;
    para_detail_income.xAxis.categories = categories_over_income;
    para_detail_income.chart.width=width;

    para_detail_income.legend.itemStyle.fontSize = detail_legend;
    para_detail_income.legend.layout = layout_legend;
    para_detail_income.legend.align = align_legend;
    para_detail_income.legend.verticalAlign = vertical_align_legend;
    para_detail_income.legend.y = y_legend_detail_income;
    para_detail_income.legend.x = x_legend_detail_income;
    para_detail_income.legend.itemMarginBottom = 0;
    para_detail_income.legend.itemMarginTop = 10;
    para_detail_income.legend.symbolPadding = 6;

    para_detail_income.chart.style.fontFamily=chart_fontFamily;
    para_detail_income.chart.style.fontSize=chart_fontSize;
    para_detail_income.chart.style.fontWeight=chart_fontWeight;
    para_detail_income.chart.spacingLeft = spacing_left_detail_income;
    para_detail_income.chart.spacingBottom = spacing_bottom_detail_income;
    para_detail_income.chart.marginLeft = margin_left_detail_income;
    para_detail_income.chart.marginRight = margin_right_detail_income;
    para_detail_income.chart.marginBottom = margin_bottom_detail_income;
    para_detail_income.chart.marginTop = margin_top_detail_income;

    para_detail_income.xAxis.title.offset = offset_x_title_detail_income;
    para_detail_income.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_income.xAxis.labels.y = y_label_detail_income;
    para_detail_income.xAxis.title.margin = margin_title;
    para_detail_income.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_income.yAxis.title.offset = offset_y_title_detail_income;
    para_detail_income.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_income.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_income = new Highcharts.Chart(para_detail_income,function(objChart){});
    createMenu('detail_4');
}
function reDetailChart5(){
    var width = $("#chart-detail_4").width();
    var window_width = $(window).width();
    if(window_width < 1024){
        if(window_width>=768){
            para_detail_income.legend.itemWidth = 230;
        }else{
            var str = $('#pck_location').val();
            var str_width = 45+7*(str.length);
            para_detail_income.legend.itemWidth = str_width;
            para_detail_income.legend.padding = 0;
        }
    }else{
        para_detail_income.legend.itemWidth=197;
    }
    if(window_width >=1024){
        para_detail_income.plotOptions.series.pointWidth = point_width_detail_income;
        para_detail_income.xAxis.labels.rotation=0;
    }else{
        var keyToDelete = "pointWidth";
        delete  para_detail_income.plotOptions.series[keyToDelete];
        keyToDelete = "rotation";
        delete  para_detail_income.xAxis.labels[keyToDelete];
    }
    //para_detail_income.plotOptions.series.pointWidth= point_width_detail_income;
    para_detail_income.series = arrDataIncome;
    para_detail_income.xAxis.categories = categories_over_income;
    para_detail_income.chart.width=width;

    para_detail_income.legend.itemStyle.fontSize = detail_legend;
    para_detail_income.legend.layout = layout_legend;
    para_detail_income.legend.align = align_legend;
    para_detail_income.legend.verticalAlign = vertical_align_legend;
    para_detail_income.legend.y = y_legend_detail_income;
    para_detail_income.legend.x = x_legend_detail_income;
    para_detail_income.legend.itemMarginBottom = 0;
    para_detail_income.legend.itemMarginTop = 10;
    para_detail_income.legend.symbolPadding = 6;

    para_detail_income.chart.style.fontFamily=chart_fontFamily;
    para_detail_income.chart.style.fontSize=chart_fontSize;
    para_detail_income.chart.style.fontWeight=chart_fontWeight;
    para_detail_income.chart.spacingLeft = spacing_left_detail_income;
    para_detail_income.chart.spacingBottom = spacing_bottom_detail_income;
    para_detail_income.chart.marginLeft = margin_left_detail_income;
    para_detail_income.chart.marginRight = margin_right_detail_income;
    para_detail_income.chart.marginBottom = margin_bottom_detail_income;
    para_detail_income.chart.marginTop = margin_top_detail_income;

    para_detail_income.xAxis.title.offset = offset_x_title_detail_income;
    para_detail_income.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_income.xAxis.labels.y = y_label_detail_income;
    para_detail_income.xAxis.title.margin = margin_title;
    para_detail_income.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_income.yAxis.title.offset = offset_y_title_detail_income;
    para_detail_income.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_income.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_income = new Highcharts.Chart(para_detail_income,function(objChart){});
    createMenu('detail_4');
}
function reChartForecast1(){
    para_over_forecast_ethnicity.series = arrDataForecastEthnicity;
	para_over_forecast_ethnicity.xAxis.categories = arrYearForecastEthnicity;
	
	para_over_forecast_ethnicity.legend.itemStyle.fontSize = overview_Legend;
	para_over_forecast_ethnicity.legend.layout = layout_legend;
	para_over_forecast_ethnicity.legend.align = align_legend;
	para_over_forecast_ethnicity.legend.verticalAlign = vertical_align_legend;
	para_over_forecast_ethnicity.legend.y = y_legend_forcast_ethnicity;
    para_over_forecast_ethnicity.legend.x = x_legend_forcast_ethnicity;
	
	para_over_forecast_ethnicity.chart.style.fontFamily=chart_fontFamily;
	para_over_forecast_ethnicity.chart.style.fontSize=chart_fontSize;
	para_over_forecast_ethnicity.chart.style.fontWeight=chart_fontWeight;
	para_over_forecast_ethnicity.chart.spacingLeft = spacing_left_forcast_ethnicity;
	para_over_forecast_ethnicity.chart.spacingBottom = spacing_bottom_forcast_ethnicity;
	para_over_forecast_ethnicity.chart.marginLeft = margin_left_forcast_ethnicity;
	para_over_forecast_ethnicity.chart.marginRight = margin_right_forcast_ethnicity;
	para_over_forecast_ethnicity.chart.marginBottom = margin_bottom_forcast_ethnicity;
	para_over_forecast_ethnicity.chart.marginTop = margin_top_forcast_ethnicity;
	
	para_over_forecast_ethnicity.xAxis.title.offset=offset_x_title_forcast_ethnicity;
	para_over_forecast_ethnicity.xAxis.title.style.fontSize=overview_axisLable;
	para_over_forecast_ethnicity.xAxis.labels.style.fontSize=overview_axisData;
	para_over_forecast_ethnicity.yAxis.title.style.fontSize=overview_axisLable;
	para_over_forecast_ethnicity.yAxis.title.offset=offset_y_title_forcast_ethnicity;
	para_over_forecast_ethnicity.yAxis.labels.style.fontSize=overview_axisData;
	var window_width = $(window).width();
    if(window_width >=1024){
        para_over_forecast_ethnicity.tooltip.pointFormat = '<span style="color:{series.color};font-size:9px;margin-bottom:-10px;">● </span>{series.name}: <b>{point.y}</b><br>';
    }else{
        var keyToDelete = "pointFormat";
        delete   para_over_forecast_ethnicity.tooltip[keyToDelete];
    }
	var chart_over_force_ethnicity = new Highcharts.Chart(para_over_forecast_ethnicity,function(objChart){});
	
	// updateLegendBox(chart1);
	var width = $("#chart-detail").width();
	para_detail_forecast_ethnicity.series = arrDataForecastEthnicity;
	para_detail_forecast_ethnicity.xAxis.categories = arrYearForecastEthnicity;
	para_detail_forecast_ethnicity.chart.width = width;
	para_detail_forecast_ethnicity.yAxis.max = max_detail_forecast_ethnicity;
	
	para_detail_forecast_ethnicity.legend.symbolHeight = detail_symbol_height;
	para_detail_forecast_ethnicity.legend.symbolWidth = detail_symbol_width;
	para_detail_forecast_ethnicity.legend.itemMarginTop = item_margin_top_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.legend.itemMarginBottom = item_margin_bottom_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.legend.itemStyle.fontSize = detail_legend;
	para_detail_forecast_ethnicity.legend.layout = layout_legend;
	para_detail_forecast_ethnicity.legend.align = align_legend;
	para_detail_forecast_ethnicity.legend.verticalAlign = vertical_align_legend;
	para_detail_forecast_ethnicity.legend.y = y_legend_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.legend.x = x_legend_detail_forcast_ethnicity;
	
	para_detail_forecast_ethnicity.chart.style.fontFamily=chart_fontFamily;
	para_detail_forecast_ethnicity.chart.style.fontSize=chart_fontSize;
	para_detail_forecast_ethnicity.chart.style.fontWeight=chart_fontWeight;
	
	para_detail_forecast_ethnicity.chart.spacingLeft = spacing_left_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.spacingBottom = spacing_bottom_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginLeft = margin_left_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginRight = margin_right_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginBottom = margin_bottom_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginTop = margin_top_detail_forcast_ethnicity;
	
	para_detail_forecast_ethnicity.xAxis.title.offset=offset_x_title_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.xAxis.title.style.fontSize=detail_axisLable;
	para_detail_forecast_ethnicity.xAxis.labels.style.fontSize=detail_axisData;
	para_detail_forecast_ethnicity.yAxis.title.style.fontSize=detail_axisLable;
	para_detail_forecast_ethnicity.yAxis.title.offset=offset_y_title_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.yAxis.labels.style.fontSize=detail_axisData;
	var chart_detail_force_ethnicity = new Highcharts.Chart(para_detail_forecast_ethnicity,function(objChart){});
	createMenu('detail');
}
function reDetailChartForecast1(){
    var width = $("#chart-detail").width();
	para_detail_forecast_ethnicity.series = arrDataForecastEthnicity;
	para_detail_forecast_ethnicity.xAxis.categories = arrYearForecastEthnicity;
	para_detail_forecast_ethnicity.chart.width = width;
	para_detail_forecast_ethnicity.yAxis.max = max_detail_forecast_ethnicity;
	
	para_detail_forecast_ethnicity.legend.symbolHeight = detail_symbol_height;
	para_detail_forecast_ethnicity.legend.symbolWidth = detail_symbol_width;
	para_detail_forecast_ethnicity.legend.itemMarginTop = item_margin_top_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.legend.itemMarginBottom = item_margin_bottom_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.legend.itemStyle.fontSize = detail_legend;
	para_detail_forecast_ethnicity.legend.layout = layout_legend;
	para_detail_forecast_ethnicity.legend.align = align_legend;
	para_detail_forecast_ethnicity.legend.verticalAlign = vertical_align_legend;
	para_detail_forecast_ethnicity.legend.y = y_legend_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.legend.x = x_legend_detail_forcast_ethnicity;
	
	para_detail_forecast_ethnicity.chart.style.fontFamily=chart_fontFamily;
	para_detail_forecast_ethnicity.chart.style.fontSize=chart_fontSize;
	para_detail_forecast_ethnicity.chart.style.fontWeight=chart_fontWeight;
	
	para_detail_forecast_ethnicity.chart.spacingLeft = spacing_left_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.spacingBottom = spacing_bottom_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginLeft = margin_left_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginRight = margin_right_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginBottom = margin_bottom_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.chart.marginTop = margin_top_detail_forcast_ethnicity;
	
	para_detail_forecast_ethnicity.xAxis.title.offset=offset_x_title_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.xAxis.title.style.fontSize=detail_axisLable;
	para_detail_forecast_ethnicity.xAxis.labels.style.fontSize=detail_axisData;
    para_detail_forecast_ethnicity.xAxis.labels.y = label_x_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.yAxis.title.style.fontSize=detail_axisLable;
	para_detail_forecast_ethnicity.yAxis.title.offset=offset_y_title_detail_forcast_ethnicity;
	para_detail_forecast_ethnicity.yAxis.labels.style.fontSize=detail_axisData;
	var chart_detail_force_ethnicity = new Highcharts.Chart(para_detail_forecast_ethnicity,function(objChart){});
	createMenu('detail');
}
function reChartForecast2(){
    para_over_forecast_housing.series = arrDataForecastHousing;
    para_over_forecast_housing.xAxis.categories = arrYearForecastHousing;
    para_over_forecast_housing.yAxis.max = max_detail_forecast_housing;

    para_over_forecast_housing.legend.itemStyle.fontSize = overview_Legend;
    para_over_forecast_housing.legend.layout = layout_legend;
    para_over_forecast_housing.legend.align = align_legend;
    para_over_forecast_housing.legend.verticalAlign = vertical_align_legend;
    para_over_forecast_housing.legend.y = y_legend_forcast_housing;
    para_over_forecast_housing.legend.x = x_legend_forcast_housing;

    para_over_forecast_housing.chart.style.fontFamily=chart_fontFamily;
    para_over_forecast_housing.chart.style.fontSize=chart_fontSize;
    para_over_forecast_housing.chart.style.fontWeight=chart_fontWeight;

    para_over_forecast_housing.chart.spacingLeft = spacing_left_forcast_housing;
    para_over_forecast_housing.chart.spacingBottom = spacing_bottom_forcast_housing;
    para_over_forecast_housing.chart.marginLeft = margin_left_forcast_housing;
    para_over_forecast_housing.chart.marginRight = margin_right_forcast_housing;
    para_over_forecast_housing.chart.marginBottom = margin_bottom_forcast_housing;
    para_over_forecast_housing.chart.marginTop = margin_top_forcast_housing;

    para_over_forecast_housing.xAxis.title.style.fontSize=overview_axisLable;
    para_over_forecast_housing.xAxis.labels.style.fontSize=overview_axisData;
    para_over_forecast_housing.yAxis.title.offset=offset_y_title_forcast_housing;
    para_over_forecast_housing.yAxis.labels.style.fontSize=overview_axisData;
    para_over_forecast_housing.yAxis.title.style.fontSize=overview_axisLable;
    if(checkInternetExplorer()){
        var keyToDelete = "lineHeight";
        delete  para_over_forecast_housing.legend.itemStyle[keyToDelete];
    }else{
        para_over_forecast_housing.legend.itemStyle.lineHeight='11%'
    }
    var chart_over_force_housing = new Highcharts.Chart(para_over_forecast_housing,function(objChart){});

    var width = $("#chart-detail_2").width();
    para_detail_forecast_housing.chart.width = width;
    para_detail_forecast_housing.series = arrDataForecastHousing;
    para_detail_forecast_housing.xAxis.categories = arrYearForecastHousing;
    para_detail_forecast_housing.yAxis.max = max_detail_forecast_housing;

    para_detail_forecast_housing.legend.symbolHeight = detail_symbol_height;
    para_detail_forecast_housing.legend.symbolWidth = detail_symbol_width;
    para_detail_forecast_housing.legend.itemMarginTop = item_margin_top_detail_focast_housing;
    para_detail_forecast_housing.legend.itemMarginBottom = item_margin_bottom_detail_focast_housing;
    para_detail_forecast_housing.legend.itemStyle.fontSize = detail_legend;
    para_detail_forecast_housing.legend.layout = layout_legend;
    para_detail_forecast_housing.legend.align = align_legend;
    para_detail_forecast_housing.legend.verticalAlign = vertical_align_legend;
    para_detail_forecast_housing.legend.y = y_legend_detail_forcast_housing;
    para_detail_forecast_housing.legend.x = x_legend_detail_forcast_housing;

    para_detail_forecast_housing.chart.style.fontFamily = chart_fontFamily;
    para_detail_forecast_housing.chart.style.fontSize = chart_fontSize;
    para_detail_forecast_housing.chart.style.fontWeight = chart_fontWeight;

    para_detail_forecast_housing.chart.spacingLeft = spacing_left_detail_forcast_housing;
    para_detail_forecast_housing.chart.spacingBottom = spacing_bottom_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginLeft = margin_left_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginRight = margin_right_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginBottom = margin_bottom_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginTop = margin_top_detail_forcast_housing;

    para_detail_forecast_housing.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_forecast_housing.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_housing.yAxis.title.offset = offset_y_title_detail_forcast_housing;
    para_over_forecast_housing.xAxis.title.offset=offset_x_title_forcast_housing;
    para_detail_forecast_housing.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_housing.yAxis.title.style.fontSize = detail_axisLable;
    var width = $(".chart-list").width();
    var window_width = $(window).width();
    if(window_width >=768){
        para_detail_forecast_housing.plotOptions.series.pointWidth = '45';
    }else{
        var keyToDelete = "pointWidth";
        delete  para_detail_forecast_housing.plotOptions.series[keyToDelete];
    }
    var chart_over_force_housing = new Highcharts.Chart(para_detail_forecast_housing,function(objChart){});
    createMenu('detail_2');
}
function reDetailChartForecast2(){
    var width = $("#chart-detail_2").width();
    para_detail_forecast_housing.chart.width = width;
    para_detail_forecast_housing.series = arrDataForecastHousing;
    para_detail_forecast_housing.xAxis.categories = arrYearForecastHousing;
    para_detail_forecast_housing.yAxis.max = max_detail_forecast_housing;

    para_detail_forecast_housing.legend.symbolHeight = detail_symbol_height;
    para_detail_forecast_housing.legend.symbolWidth = detail_symbol_width;
    para_detail_forecast_housing.legend.itemMarginTop = item_margin_top_detail_focast_housing;
    para_detail_forecast_housing.legend.itemMarginBottom = item_margin_bottom_detail_focast_housing;
    para_detail_forecast_housing.legend.itemStyle.fontSize = detail_legend;
    para_detail_forecast_housing.legend.layout = layout_legend;
    para_detail_forecast_housing.legend.align = align_legend;
    para_detail_forecast_housing.legend.verticalAlign = vertical_align_legend;
    para_detail_forecast_housing.legend.y = y_legend_detail_forcast_housing;
    para_detail_forecast_housing.legend.x = x_legend_detail_forcast_housing;

    para_detail_forecast_housing.chart.style.fontFamily = chart_fontFamily;
    para_detail_forecast_housing.chart.style.fontSize = chart_fontSize;
    para_detail_forecast_housing.chart.style.fontWeight = chart_fontWeight;

    para_detail_forecast_housing.chart.spacingLeft = spacing_left_detail_forcast_housing;
    para_detail_forecast_housing.chart.spacingBottom = spacing_bottom_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginLeft = margin_left_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginRight = margin_right_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginBottom = margin_bottom_detail_forcast_housing;
    para_detail_forecast_housing.chart.marginTop = margin_top_detail_forcast_housing;

    para_detail_forecast_housing.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_forecast_housing.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_housing.xAxis.labels.y = label_x_detail_forcast_housing;
    para_detail_forecast_housing.yAxis.title.offset = offset_y_title_detail_forcast_housing;
    para_detail_forecast_housing.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_housing.yAxis.title.style.fontSize = detail_axisLable;
    var width = $(".chart-list").width();
    var window_width = $(window).width();
    if(window_width >=768){
        para_detail_forecast_housing.plotOptions.series.pointWidth = '45';
    }else{
        var keyToDelete = "pointWidth";
        delete  para_detail_forecast_housing.plotOptions.series[keyToDelete];
    }
    var chart_over_force_housing = new Highcharts.Chart(para_detail_forecast_housing,function(objChart){});
    createMenu('detail_2');
}
function reChartForecast4(){
    para_over_forecast_job.series = arrDataForecastJob;
    para_over_forecast_job.xAxis.categories = arrYearForecastJob;

    para_over_forecast_job.legend.itemStyle.fontSize = overview_Legend;
    para_over_forecast_job.legend.layout = layout_legend;
    para_over_forecast_job.legend.align = align_legend;
    para_over_forecast_job.legend.verticalAlign = vertical_align_legend;
    para_over_forecast_job.legend.y = y_legend_forcast_job;

    para_over_forecast_job.chart.style.fontFamily=chart_fontFamily;
    para_over_forecast_job.chart.style.fontSize=chart_fontSize;
    para_over_forecast_job.chart.style.fontWeight=chart_fontWeight;

    para_over_forecast_job.chart.spacingLeft = spacing_left_forcast_job;
    para_over_forecast_job.chart.spacingBottom = spacing_bottom_forcast_job;
    para_over_forecast_job.chart.marginLeft = margin_left_forcast_job;
    para_over_forecast_job.chart.marginRight = margin_right_forcast_housing;
    para_over_forecast_job.chart.marginBottom = margin_bottom_forcast_job;
    para_over_forecast_job.chart.marginTop = margin_top_forcast_job;

    para_over_forecast_job.xAxis.title.style.fontSize=overview_axisLable;
    para_over_forecast_job.xAxis.labels.style.fontSize=overview_axisData;
    para_over_forecast_job.yAxis.title.offset=offset_y_title_forcast_job;
    para_over_forecast_job.xAxis.title.offset=offset_x_title_forcast_job;
    para_over_forecast_job.yAxis.labels.style.fontSize=overview_axisData;
    para_over_forecast_job.yAxis.title.style.fontSize=overview_axisLable;
    if(checkInternetExplorer()){
        var keyToDelete = "lineHeight";
        delete  para_over_forecast_job.legend.itemStyle[keyToDelete];
    }else{
        para_over_forecast_job.legend.itemStyle.lineHeight='11%'
    }
    var chart_over_force_job = new Highcharts.Chart(para_over_forecast_job,function(objChart){});

    var width = $("#chart-detail_3").width();
    para_detail_forecast_job.series = arrDataForecastJob;
    para_detail_forecast_job.xAxis.categories = arrYearForecastJob;
    para_detail_forecast_job.chart.width = width;
    para_detail_forecast_job.yAxis.max = max_detail_forecast_job;

    para_detail_forecast_job.legend.symbolHeight = detail_symbol_height;
    para_detail_forecast_job.legend.symbolWidth = detail_symbol_width;
    para_detail_forecast_job.legend.itemMarginTop = item_margin_top_detail_focast_job;
    para_detail_forecast_job.legend.itemMarginBottom = item_margin_bottom_detail_focast_job;
    para_detail_forecast_job.legend.itemStyle.fontSize = detail_legend;
    para_detail_forecast_job.legend.layout = layout_legend;
    para_detail_forecast_job.legend.align = align_legend;
    para_detail_forecast_job.legend.verticalAlign = vertical_align_legend;
    para_detail_forecast_job.legend.y = y_legend_detail_forcast_job;
    para_detail_forecast_job.legend.x = x_legend_detail_forcast_job;

    para_detail_forecast_job.chart.style.fontFamily = chart_fontFamily;
    para_detail_forecast_job.chart.style.fontSize = chart_fontSize;
    para_detail_forecast_job.chart.style.fontWeight = chart_fontWeight;

    para_detail_forecast_job.chart.spacingLeft = spacing_left_detail_forcast_job;
    para_detail_forecast_job.chart.spacingBottom = spacing_bottom_detail_forcast_job;
    para_detail_forecast_job.chart.marginLeft = margin_left_detail_forcast_job;
    para_detail_forecast_job.chart.marginRight = margin_right_detail_forcast_job;
    para_detail_forecast_job.chart.marginBottom = margin_bottom_detail_forcast_job;
    para_detail_forecast_job.chart.marginTop = margin_top_detail_forcast_job;

    para_detail_forecast_job.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_forecast_job.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_job.yAxis.title.offset = offset_y_title_detail_forcast_job;
    para_detail_forecast_job.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_job.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_force_job = new Highcharts.Chart(para_detail_forecast_job,function(objChart){});
    createMenu('detail_3');
}
function reDetailChartForecast4(){
    var width = $("#chart-detail_3").width();
    para_detail_forecast_job.series = arrDataForecastJob;
    para_detail_forecast_job.xAxis.categories = arrYearForecastJob;
    para_detail_forecast_job.chart.width = width;
    para_detail_forecast_job.yAxis.max = max_detail_forecast_job;

    para_detail_forecast_job.legend.symbolHeight = detail_symbol_height;
    para_detail_forecast_job.legend.symbolWidth = detail_symbol_width;
    para_detail_forecast_job.legend.itemMarginTop = item_margin_top_detail_focast_job;
    para_detail_forecast_job.legend.itemMarginBottom = item_margin_bottom_detail_focast_job;
    para_detail_forecast_job.legend.itemStyle.fontSize = detail_legend;
    para_detail_forecast_job.legend.layout = layout_legend;
    para_detail_forecast_job.legend.align = align_legend;
    para_detail_forecast_job.legend.verticalAlign = vertical_align_legend;
    para_detail_forecast_job.legend.y = y_legend_detail_forcast_job;
    para_detail_forecast_job.legend.x = x_legend_detail_forcast_job;

    para_detail_forecast_job.chart.style.fontFamily = chart_fontFamily;
    para_detail_forecast_job.chart.style.fontSize = chart_fontSize;
    para_detail_forecast_job.chart.style.fontWeight = chart_fontWeight;

    para_detail_forecast_job.chart.spacingLeft = spacing_left_detail_forcast_job;
    para_detail_forecast_job.chart.spacingBottom = spacing_bottom_detail_forcast_job;
    para_detail_forecast_job.chart.marginLeft = margin_left_detail_forcast_job;
    para_detail_forecast_job.chart.marginRight = margin_right_detail_forcast_job;
    para_detail_forecast_job.chart.marginBottom = margin_bottom_detail_forcast_job;
    para_detail_forecast_job.chart.marginTop = margin_top_detail_forcast_job;

    para_detail_forecast_job.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_forecast_job.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_job.yAxis.title.offset = offset_y_title_detail_forcast_job;
    para_detail_forecast_job.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_job.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_force_job = new Highcharts.Chart(para_detail_forecast_job,function(objChart){});
    createMenu('detail_3');
}
function reChartForecast5(){
    var window_width = $(window).width();
    para_over_forecast_income.series = arrDataForecastIncome;
    para_over_forecast_income.xAxis.categories = categories_forecast_income;

    para_over_forecast_income.legend.itemStyle.fontSize = overview_Legend;
    para_over_forecast_income.legend.layout = layout_legend;
    para_over_forecast_income.legend.align = align_legend;
    para_over_forecast_income.legend.verticalAlign = vertical_align_legend;
    para_over_forecast_income.legend.y = y_legend_forcast_income;
    para_over_forecast_income.legend.x = x_legend_forcast_income;

    para_over_forecast_income.chart.style.fontFamily=chart_fontFamily;
    para_over_forecast_income.chart.style.fontSize=chart_fontSize;
    para_over_forecast_income.chart.style.fontWeight=chart_fontWeight;

    para_over_forecast_income.chart.spacingLeft = spacing_left_forcast_income;
    para_over_forecast_income.chart.spacingBottom = spacing_bottom_forcast_income;
    para_over_forecast_income.chart.marginLeft = margin_left_forcast_income;
    para_over_forecast_income.chart.marginRight = margin_right_forcast_income;
    para_over_forecast_income.chart.marginBottom = margin_bottom_forcast_income;
    para_over_forecast_income.chart.marginTop = margin_top_forcast_income;

    para_over_forecast_income.xAxis.title.style.fontSize=overview_axisLable;
    para_over_forecast_income.xAxis.labels.style.fontSize=overview_axisData;
    para_over_forecast_income.yAxis.title.offset=offset_y_title_forcast_income;
    para_over_forecast_income.xAxis.title.offset=offset_x_title_forcast_income;
    para_over_forecast_income.yAxis.labels.style.fontSize=overview_axisData;
    para_over_forecast_income.yAxis.title.style.fontSize=overview_axisLable;
    if(window_width >=1024){
        para_over_forecast_income.tooltip.pointFormat = '<span style="color:{series.color};font-size:9px;margin-bottom:-10px;">● </span>{series.name}: <b>{point.y}</b><br>';
    }else{
        var keyToDelete = "pointFormat";
        delete   para_over_forecast_income.tooltip[keyToDelete];
    }
    var chart_over_force_income = new Highcharts.Chart(para_over_forecast_income,function(objChart){});

    var width = $("#chart-detail_4").width();
    para_detail_forecast_income.series = arrDataForecastIncome;
    para_detail_forecast_income.xAxis.categories = categories_forecast_income;
    para_detail_forecast_income.chart.width = width;

    para_detail_forecast_income.legend.symbolHeight = detail_symbol_height;
    para_detail_forecast_income.legend.symbolWidth = detail_symbol_width;
    para_detail_forecast_income.legend.itemMarginTop = item_margin_top_detail_focast_income;
    para_detail_forecast_income.legend.itemMarginBottom = item_margin_bottom_detail_focast_income;
    para_detail_forecast_income.legend.itemStyle.fontSize = detail_legend;
    para_detail_forecast_income.legend.layout = layout_legend;
    para_detail_forecast_income.legend.align = align_legend;
    para_detail_forecast_income.legend.verticalAlign = vertical_align_legend;
    para_detail_forecast_income.legend.y = y_legend_detail_forcast_income;
    para_detail_forecast_income.legend.x = x_legend_detail_forcast_income;

    para_detail_forecast_income.chart.style.fontFamily = chart_fontFamily;
    para_detail_forecast_income.chart.style.fontSize = chart_fontSize;
    para_detail_forecast_income.chart.style.fontWeight = chart_fontWeight;

    para_detail_forecast_income.chart.spacingLeft = spacing_left_detail_forcast_income;
    para_detail_forecast_income.chart.spacingBottom = spacing_bottom_detail_forcast_income;
    para_detail_forecast_income.chart.marginLeft = margin_left_detail_forcast_income;
    para_detail_forecast_income.chart.marginRight = margin_right_detail_forcast_income;
    para_detail_forecast_income.chart.marginBottom = margin_bottom_detail_forcast_income;
    para_detail_forecast_income.chart.marginTop = margin_top_detail_forcast_income;

    para_detail_forecast_income.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_income.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_forecast_income.xAxis.labels.rotation = rotation_detail_forcast_income;
    para_detail_forecast_income.xAxis.labels.y = label_x_detail_forcast_income;
    para_detail_forecast_income.yAxis.title.offset = offset_y_title_detail_forcast_income;
    para_detail_forecast_income.xAxis.title.offset = offset_x_title_detail_forcast_income;
    para_detail_forecast_income.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_income.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_force_income = new Highcharts.Chart(para_detail_forecast_income,function(objChart){});
    createMenu('detail_4');
}
function reDetailChartForecast5(){
    var width = $("#chart-detail_4").width();
    para_detail_forecast_income.series = arrDataForecastIncome;
    para_detail_forecast_income.xAxis.categories = categories_forecast_income;
    para_detail_forecast_income.chart.width = width;

    para_detail_forecast_income.legend.symbolHeight = detail_symbol_height;
    para_detail_forecast_income.legend.symbolWidth = detail_symbol_width;
    para_detail_forecast_income.legend.itemMarginTop = item_margin_top_detail_focast_income;
    para_detail_forecast_income.legend.itemMarginBottom = item_margin_bottom_detail_focast_income;
    para_detail_forecast_income.legend.itemStyle.fontSize = detail_legend;
    para_detail_forecast_income.legend.layout = layout_legend;
    para_detail_forecast_income.legend.align = align_legend;
    para_detail_forecast_income.legend.verticalAlign = vertical_align_legend;
    para_detail_forecast_income.legend.y = y_legend_detail_forcast_income;
    para_detail_forecast_income.legend.x = x_legend_detail_forcast_income;

    para_detail_forecast_income.chart.style.fontFamily = chart_fontFamily;
    para_detail_forecast_income.chart.style.fontSize = chart_fontSize;
    para_detail_forecast_income.chart.style.fontWeight = chart_fontWeight;

    para_detail_forecast_income.chart.spacingLeft = spacing_left_detail_forcast_income;
    para_detail_forecast_income.chart.spacingBottom = spacing_bottom_detail_forcast_income;
    para_detail_forecast_income.chart.marginLeft = margin_left_detail_forcast_income;
    para_detail_forecast_income.chart.marginRight = margin_right_detail_forcast_income;
    para_detail_forecast_income.chart.marginBottom = margin_bottom_detail_forcast_income;
    para_detail_forecast_income.chart.marginTop = margin_top_detail_forcast_income;

    para_detail_forecast_income.xAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_income.xAxis.title.style.fontSize = detail_axisLable;
    para_detail_forecast_income.xAxis.labels.rotation = rotation_detail_forcast_income;
    para_detail_forecast_income.xAxis.labels.y = label_x_detail_forcast_income;
    para_detail_forecast_income.yAxis.title.offset = offset_y_title_detail_forcast_income;
    para_detail_forecast_income.xAxis.title.offset = offset_x_title_detail_forcast_income;
    para_detail_forecast_income.yAxis.labels.style.fontSize = detail_axisData;
    para_detail_forecast_income.yAxis.title.style.fontSize = detail_axisLable;
    var chart_detail_force_income = new Highcharts.Chart(para_detail_forecast_income,function(objChart){});
    createMenu('detail_4');
}

function loadDetailChartOne(){
    $('#chart-detail').addClass("chart-frame-248");
    $('#chart-detail_2').addClass("chart-frame-248");
    $('#chart-detail_3').addClass("chart-frame-380");
    $('#chart-detail_4').addClass("chart-frame-402");
    var pck_source_type = $('#pck_source_type').val();
    
    $('#title_over_view').addClass('hide');
    $('#title_over_view_detail').removeClass('hide');
    $('#over_view_details').removeClass('hide');
    $('#over_view').addClass('hide');
    $('#data_section').addClass('hide');
    
    $('#chart-detail_2').addClass('hide');
    $('#chart-detail_3').addClass('hide');
    $('#chart-detail_4').addClass('hide');
    $('#chart_label').html('RACE & ETHNICITY');
    $('.site-header').css({"z-index":''});
    $('#overview-body').removeClass("visibility");
    $('#chart-detail').removeClass('hide');
    
    var url = api_url;
    if(pck_source_type==="forecast"){
        $('#chart-detail').addClass("chart-frame-402");
        $('#chart-detail_2').addClass("chart-frame-380");
        $('#chart-detail_3').addClass("chart-frame-402");
        $('#chart-detail_4').addClass("chart-frame-423");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "ethnicity", url_des: $('#url_ethnicity').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var arrData = [];
                    var arrYear = [];
                    res.sort(function(a, b) {
                        return a.year - b.year;
                    });
                    var maxVal = 0;
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if ('ethnicity' in obj && !isInArray(obj.ethnicity, categories) && obj.ethnicity.indexOf('Total') < 0) {
                            categories.push(obj.ethnicity);
                        }
                        if(obj.ethnicity=='Total Population'){
                            if(obj.population > maxVal){
                                maxVal = obj.population;
                            }
                        }
                    }


                    for (var j = 0; j < categories.length; j++) {
                        var arr = [];
                        for (var i = 0; i < res.length; i++) {
                            var obj = res[i];
                            if (obj.ethnicity == categories[j]) {
                                arr.push(obj.population)
                            }

                            if ('ethnicity' in obj && obj.ethnicity == "Total Population") {
                                arrYear.push(obj.year);
                            }
                        }
                        var cKey = categories[j].replace(/ /g, "").toLowerCase();
                        var str_name=categories[j]
                        if(str_name=="Two or More"){
                            str_name="2 or More";
                        }
                        arrData.push({name: str_name, data: arr, color: colorEthnicityForecast[cKey][0]});
                    }

                    arrData.sort(sortByProperty('name'));
                    var arrSum = [];
                    var temp = [];

                    for(var i=0;i<arrData.length;i++){
                        var obj = {};
                        var yearSum = 0;
                        for(var x=0;x<arrData.length;x++){
                            yearSum+=arrData[x].data[i];
                        }
                        temp.push(parseInt(arrYear[i], 10));
                        arrSum.push(yearSum);
                    }
                    cYear=temp;
                    arrDataSumForecastEthnicity = arrSum;
                    console.log(cYear);
                    console.log(arrDataSumForecastEthnicity);
                    arrYearForecastEthnicity = arrYear;
                    arrDataForecastEthnicity = arrData;
                    max_detail_forecast_ethnicity=maxVal;
                    
                    reDetailChartForecast1()
                    if(isMobile.any()){
                        $('#txtEmailReport').selectmenu('enable');
                        $('#txtEmailReport').selectmenu('refresh');
                        $('#txtDownloadReport').selectmenu('enable');
                        $('#txtDownloadReport').selectmenu('refresh');
                    }else{
                        $('#email_report').prop('disabled',false);
                        $('#email_report').selectpicker('refresh');
                        $('#download_report').prop('disabled',false);
                        $('#download_report').selectpicker('refresh');
                    }
                }
            },
            error: function(request, status, error) {
                console.log($('#url_ethnicity').val());
                console.log(request.responseText);
            }


        });
        $('#header_label').html('<p>Select a section of the chart or a race and ethnicity type to show or hide data.<br class="hidden-xs" /> Use the chart icon to download the chart image only.</p>');
        $('#txt_total_population').html('Change In Population');
        var total_change_race = 0; 
        $.ajax({
            url:url,
            type:"POST",
            dataType:"json",
            data:{type_chart: "ethnicity_change", url_des: $('#url_ethnicity').val()+"/change"},
            success: function (res) {
                if(res.length > 0){
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if(obj.ethnicity=="Total Population"){
                            total_change_race = obj.pct_chg_base_to_horizon*100;
                            $('#total_population').html(Highcharts.numberFormat(total_change_race, 1, '.', ',')+"%");
                        }
                    }
                }    
            }
        });
    }else{
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "ethnicity", url_des: $('#url_ethnicity').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var keys = [];
                    var sum_key = 0;
                    var arr_tmp=[];
                    var colors = [];

                    var arrEthnicity = [];
                    var dataDetailArray = [];

                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i]; // console.log(obj[key]);
						if (obj.ethnicity != 'Total Population')
						    sum_key += obj.population;
                    }
					
					var i_counter = 0;

                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
						if (obj.ethnicity != 'Total Population')
						{
                            categories.push(obj.ethnicity);
                            var cKey = obj.ethnicity.replace(/ /g, "").toLowerCase();
                            colors.push(colorEthnicityCensus[cKey][0]);
							console.log(obj.ethnicity + ": " + obj.population);
                            
                            keys.push(obj.population);
                        
                            datalen = keys[i_counter].length;
                            var brightness = 0.2 - (i_counter) / res.length;
                            arrEthnicity.push({
                                name: categories[i_counter],
                                y: precise_round((keys[i_counter] / sum_key) * 100, 0),
                                color: colors[i_counter],
                                fy:precise_round((keys[i_counter] / sum_key) * 100, 1),
                            });

                            dataDetailArray.push({
                                name: categories[i_counter],
                                y: precise_round((keys[i_counter] / sum_key) * 100, 1),
                                color: colors[i_counter]
                            });
							
							i_counter += 1;
                        }
                    }

                    arrEthnicity.sort(function(a,b){
                        return b.y - a.y;
                    })
                    for(var i=0;i<arrEthnicity.length;i++){
                        arr_tmp.push(arrEthnicity[i].y);
                    }
                    arr_tmp_ethinicity=arr_tmp;
                    dataDetailArray.sort(function(a,b){
                        return b.y - a.y;
                    })
                    var temp=arrEthnicity[1];
                    arrEthnicity[1]=arrEthnicity[4];
                    arrEthnicity[4]=temp;

                    var temp=dataDetailArray[1];
                    dataDetailArray[1]=dataDetailArray[4];
                    dataDetailArray[4]=temp;
                    var sAg = -arrEthnicity[0].y*9/5;

                    if(sum_key > 0){
                        sum_key_ethnicity=sum_key;
                        dataArrayEthnicity = arrEthnicity
                        dataDetailArrayEthnicity= dataDetailArray;
                        sAgEthnicity = sAg;
                        $('#loading-section').addClass("hide");
                        
                        reDetailChart1();
                        if(isMobile.any()){
                            $('#txtEmailReport').selectmenu('enable');
                            $('#txtEmailReport').selectmenu('refresh');
                            $('#txtDownloadReport').selectmenu('enable');
                            $('#txtDownloadReport').selectmenu('refresh');
                        }else{
                            $('#email_report').prop('disabled',false);
                            $('#email_report').selectpicker('refresh');
                            $('#download_report').prop('disabled',false);
                            $('#download_report').selectpicker('refresh');
                        }
                        $('#header_label').html('<p>Select a section of the chart to interact with the data.<br class="hidden-xs" /> Use the chart icon to download the chart image only.</p>');
                    }
                }
                return 1;
            },
            error: function(request, status, error) {
                console.log($('#url_ethnicity').val());
                console.log(request.responseText);
            }
        });
    }
}
function loadDetailChartTwo(){
    $('#title_over_view').addClass('hide');
    $('#title_over_view_detail').removeClass('hide');
    $('#over_view_details').removeClass('hide');
    $('#over_view').addClass('hide');
    $('#data_section').addClass('hide');
    $('#chart-detail').addClass('hide');
    $('#chart-detail_2').removeClass('hide');
    $('#chart-detail_3').addClass('hide');
    $('#chart-detail_4').addClass('hide');
    $('#chart_label').html('HOUSING TYPES');
    var pck_source_type = $('#pck_source_type').val();
    $('.site-header').css({"z-index":''});
    $('#overview-body').removeClass("visibility");
    
    if(pck_source_type!=="forecast"){
        $('#chart-detail').addClass("chart-frame-248");
        $('#chart-detail_2').addClass("chart-frame-248");
        $('#chart-detail_3').addClass("chart-frame-380");
        $('#chart-detail_4').addClass("chart-frame-402");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "housing", url_des: $('#url_housing').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var keys = [];
                    var occupieds = [];
                    var vacants = [];
                    var sum_key = 0;
                    //var colors = Highcharts.getOptions().colors;
                    var colors = [];
                    var colorDownState = [];
                    var dataArray = [];
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if (obj['unit_type'] == 'Total Units') {
                            sum_key = obj["units"];
                            res.splice(i, 1);
                        }

                    }
                    var arrData2 = [];
                    var sumHousing = 0;
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        var units = (obj.units > 0) ? obj.units : 0;
                        for (var key in obj) {
                            if (key == "unit_type") {
                                categories.push(obj[key]);
                            } else if (key == "units") {
                                keys.push(obj[key]);
                            } else {
                                var str_color = "";
                                if (key != "vacancy_rate") {
                                    var str_name = "";
                                    if (key == "occupied") {
                                        str_name = key;
                                        str_color = colorHousingTypeCensus[str_name][0];
                                        occupieds.push(obj[key]);
                                    } else {
                                        str_name = "vacant";
                                        str_color = colorHousingTypeCensus[str_name][0];
                                        vacants.push(obj[key]);
                                    }

                                    arrData2.push({name: str_name,
                                        y: obj[key],
                                        x: units,
                                        color: str_color,
                                        rate: 4
                                    });
                                }

                            }


                        }
                        var cKey = categories[i].replace(/ |-/g, "").toLowerCase();
                        dataArray.push({
                            name: categories[i],
                            y: keys[i],
                            vacant: vacants[i],
                            occupieds: occupieds[i],
                            color: colorHousingTypeCensus[cKey][0],
                            downstate: colorHousingTypeCensus[cKey][1],
                        });
                        sumHousing += keys[i];
                    }

                    //end data demo
                    var key_rotation = 0;
                    if(sum_key > 0){
                        dataArray.sort(function(a,b){
                            return a.name > b.name;
                        })
                        var sAg = 0;
                        key_rotation = 100*(dataArray[dataArray.length-1].y/sumHousing);
                        if(key_rotation >90){
                            var sAg = -dataArray[dataArray.length-1].y*9/5;
                        }

                        dataArrayHousing = dataArray;
                        sum_key_housing = sum_key;
                        keys_housing = keys;
                        occupieds_housing = occupieds;
                        vacants_housing = vacants;
                        dataArrayHousing = dataArray;
                        sAgHousing = sAg;
                        para_detail_housing.series[0].startAngle = sAg;
                        para_detail_housing.tooltip.style.fontSize=font_size_detail_tool_tip;
                        
                        reDetailChart2();
                        if(isMobile.any()){
                            $('#txtEmailReport').selectmenu('enable');
                            $('#txtEmailReport').selectmenu('refresh');
                            $('#txtDownloadReport').selectmenu('enable');
                            $('#txtDownloadReport').selectmenu('refresh');
                        }else{
                            $('#email_report').prop('disabled',false);
                            $('#email_report').selectpicker('refresh');
                            $('#download_report').prop('disabled',false);
                            $('#download_report').selectpicker('refresh');
                        }
                    }
                    return 1;
                }
            },
            error: function(request, status, error) {
                console.log($('#url_housing').val());
                console.log(request.responseText);
            }
        });
       
        $('#txt_total_population').html('Total Housing Units');
        $('#header_label').html('<p>Select a section of the chart to interact with the data.<br class="hidden-xs" /> Use the chart icon to download the chart image only.</p>');
    }else{
        $('#chart-detail').addClass("chart-frame-402");
        $('#chart-detail_2').addClass("chart-frame-380");
        $('#chart-detail_3').addClass("chart-frame-402");
        $('#chart-detail_4').addClass("chart-frame-423");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "housing", url_des: $('#url_housing').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var arrData = [];
                    var arrYear = [];
                    res.sort(function(a, b) {
                        return a.year - b.year;
                    });


                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if ('unit_type' in obj && !isInArray(obj.unit_type, categories) && obj.unit_type.indexOf('Total') < 0) {
                            categories.push(obj.unit_type);
                        }
                    }
                    categories.sort(function(a, b) {
                        return a.unit_type - b.unit_type;
                    });

                    var maxVal = 0;
                    for (var j = 0; j < categories.length; j++) {
                        var arr = [];
                        for (var i = 0; i < res.length; i++) {
                            var obj = res[i];
                            if (obj.unit_type == categories[j]) {
                                arr.push(obj.units);
                            }

                            if ('unit_type' in obj &&!isInArray(obj.year, arrYear) && obj.unit_type == "Total Units") {
                                arrYear.push(obj.year);
                                if(obj.units > maxVal){
                                    maxVal = obj.units;
                                }
                            }
                        }
                        var cKey = categories[j].replace(/ |-/g, "").toLowerCase();
                        arrData.push({name: categories[j], data: arr, color: colorHousingTypeForecast[cKey][0]});
                    }

                    arrData.sort(sortByProperty('name'));
                    arrYearForecastHousing = arrYear;
                    arrDataForecastHousing = arrData;
                    max_detail_forecast_housing = maxVal;
                    
                    reDetailChartForecast2()
                    if(isMobile.any()){
                        $('#txtEmailReport').selectmenu('enable');
                        $('#txtEmailReport').selectmenu('refresh');
                        $('#txtDownloadReport').selectmenu('enable');
                        $('#txtDownloadReport').selectmenu('refresh');
                    }else{
                        $('#email_report').prop('disabled',false);
                        $('#email_report').selectpicker('refresh');
                        $('#download_report').prop('disabled',false);
                        $('#download_report').selectpicker('refresh');
                    }
                }
            },
            error: function(request, status, error) {
                console.log($('#url_housing').val());
                console.log(request.responseText);
            }
        });
       
        $('#header_label').html('<p>Select a section of the chart or a housing type to show or hide data. <br class="hidden-xs" />Use the chart icon to download the chart image only. </p>');
    }
}
function loadDetailChartFour(){
    $('#title_over_view').addClass('hide');
    $('#title_over_view_detail').removeClass('hide');
    $('#over_view_details').removeClass('hide');
    $('#over_view').addClass('hide');
    $('#data_section').addClass('hide');
    $('#chart-detail').addClass('hide');
    $('#chart-detail_3').removeClass('hide');
    $('#chart-detail_2').addClass('hide');
    $('#chart-detail_4').addClass('hide');
    var pck_source_type = $('#pck_source_type').val();
    $('.site-header').css({"z-index":''});
    $('#overview-body').removeClass("visibility");
    
    var url = api_url;
    if(pck_source_type!=="forecast"){
        $('#chart-detail').addClass("chart-frame-248");
        $('#chart-detail_2').addClass("chart-frame-248");
        $('#chart-detail_3').addClass("chart-frame-380");
        $('#chart-detail_4').addClass("chart-frame-402");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "age", url_des: $('#url_age').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var arrFemale = [];
                    var arrMale = [];
                    var arrOMale = [];
                    var arrOFemale = [];
                    var arrData = [];
                    var max_female=0;
                    var max_male=0;
                    var max = 0;
                    // get total
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if (obj.group_10yr.indexOf("+") >= 0) {
                            res[i].group_10yr = obj.group_10yr.replace("+", ".99"); 
                        }else if (obj.group_10yr.indexOf("to") >= 0) {
                            res[i].group_10yr = obj.group_10yr.replace(" to ", ".");
                        } else if (obj.group_10yr.indexOf("Under") >= 0) {
                            res[i].group_10yr = obj.group_10yr.replace("Under ", "1.");
                        }  else {
                            res[i].group_10yr = obj.group_10yr;
                        }
                        if ('sex' in obj && obj.sex == "Female"
                                && obj.group_10yr != "Total Population"
                                && obj.group_10yr != "Total") {
                            arrOFemale.push(obj);
                        }
                        if ('sex' in obj && obj.sex == "Male"
                                && obj.group_10yr != "Total Population"
                                && obj.group_10yr != "Total") {
                            arrOMale.push(obj);
                        }
                    }

                    arrOFemale.sort(function(a,b){
                        return a.group_10yr - b.group_10yr;
                    }) 
                    arrOMale.sort(function(a,b){
                        return a.group_10yr - b.group_10yr;
                    })
                    for (var i = 0; i < arrOFemale.length; i++) {
                        var obj = arrOFemale[i];
                        if (obj.group_10yr.indexOf(".99") >= 0) {
                            var age = '≥' + obj.group_10yr.replace(".99", "");
                        }else if (obj.group_10yr.indexOf("1.") >= 0) {
                            var age = obj.group_10yr.replace("1.", "<");
                        }else if (obj.group_10yr.indexOf(".") >= 0) {
                            var age = obj.group_10yr.replace(".", " - ");
                        }else {
                            var age = obj.group_10yr;
                        }

                        if ('sex' in obj && obj.sex == "Female"
                                && obj.group_10yr != "Total Population"
                                && obj.group_10yr != "Total") {
                            categories.push(age);
                        }
                        if ('sex' in obj && obj.sex == "Female"
                                && obj.group_10yr != "Total Population"
                                && obj.group_10yr != "Total") {
                            if(obj.population > max_female){
                                max_female = obj.population;
                            }
                            arrFemale.push(obj.population);
                        }
                    }
                    for (var i = 0; i < arrOMale.length; i++) {
                        var obj = arrOMale[i];
                        if (obj.group_10yr.indexOf(".99") >= 0) {
                            var age = '≥' + obj.group_10yr.replace(".99", "");
                        }else if (obj.group_10yr.indexOf("1.") >= 0) {
                            var age = obj.group_10yr.replace("1.", "<");
                        }else if (obj.group_10yr.indexOf(".") >= 0) {
                            var age = obj.group_10yr.replace(".", " - ");
                        }else {
                            var age = obj.group_10yr;
                        }
                        if ('sex' in obj && obj.sex == "Male"
                                && obj.group_10yr != "Total Population"
                                && obj.group_10yr != "Total") {
                            if(obj.population > max_male){
                                max_male = obj.population;
                            }
                            arrMale.push(obj.population);
                        }
                    }
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if ('sex' in obj && obj.sex == "Total"
                                && obj.group_10yr == "Total Population") {
                            $('#set_location_popuplate').val(obj.population);
                            $('#total_population').html(Highcharts.numberFormat(obj.population, 0, '.', ','));
                        }

                    }
                    arrData = [
                        {
                            name: 'Men',
                            data: arrMale,
                            color: fontAgeCensus['men'][0]
                        },
                        {
                            name: 'Women',
                            data: arrFemale,
                            color: fontAgeCensus['women'][0]
                        }];
                    arrData.sort(function(a,b){
                        return a.name - b.name;
                    }) 
                    max = max_female + max_male;

                    if($('#set_location_popuplate').val()>0){
                        arrDataAge = arrData;
                        categories_over_age = categories;
                        max_over_age = max;
                        reDetailChart4();
                        if(isMobile.any()){
                            $('#txtEmailReport').selectmenu('enable');
                            $('#txtEmailReport').selectmenu('refresh');
                            $('#txtDownloadReport').selectmenu('enable');
                            $('#txtDownloadReport').selectmenu('refresh');
                        }else{
                            $('#email_report').prop('disabled',false);
                            $('#email_report').selectpicker('refresh');
                            $('#download_report').prop('disabled',false);
                            $('#download_report').selectpicker('refresh');
                        }
                    }
                }
                return 1;
            },
            error: function(request, status, error) {
                console.log($('#url_housing').val());
                console.log(request.responseText);
            }
        });
        
        $('#chart_label').html('AGE BY GENDER');
        $('#header_label').html('<p>Select a section of the chart or a gender to show or hide data. <br class="hidden-xs" />Use the chart icon to download the chart image only.</p>');
    }else{
        $('#chart-detail').addClass("chart-frame-402");
        $('#chart-detail_2').addClass("chart-frame-380");
        $('#chart-detail_3').addClass("chart-frame-402");
        $('#chart-detail_4').addClass("chart-frame-423");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "jobs", url_des: $('#url_jobs').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var arr_year = [];
                    var colors = [];
                    var arrData = [];
                    var arrTmp = [];
                    var maxVal = 0;
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if ('category' in obj && !isInArray(obj.category, categories) && obj.category.indexOf('Total') < 0) {
                            categories.push(obj.category);
                        }
                        if(obj.category.indexOf('Total')>-1){
                            if(obj.jobs > maxVal){
                                maxVal = obj.jobs;
                            }
                        }
                    }

                    res.sort(function(a, b) {
                        return a.category - b.category;
                    }
                    );

                    for (var j = 0; j < categories.length; j++) {
                        var arr = [];

                        for (var i = 0; i < res.length; i++) {
                            var obj = res[i];
                            obj.other = "0";
                            if (obj.category == categories[j]) {
                                if (categories[j] == "Professional and Business Services"
                                        || categories[j] == "Education and Healthcare"
                                        || categories[j] == "Government"
                                        || categories[j] == "Liesure and Hospitality") {
                                    arr.push(obj)
                                } else {
                                    obj.other = "1";
                                    arr.push(obj)
                                }
                            }
                        }

                        var ser_data = [];
                        arr.sort(function(a, b) {
                            return a.year - b.year;
                        }
                        );

                        for (var ind = 0; ind < arr.length; ind++) {
                            var objArr = arr[ind];
                            ser_data.push(objArr.jobs);
                            if ('year' in objArr && !isInArray(objArr.year, arr_year)) {
                                arr_year.push(objArr.year);
                            }
                        }
                        if (categories[j] == "Professional and Business Services") {
                            arrData.push({name: categories[j], data: ser_data});
                        } else if (categories[j] == "Education and Healthcare") {
                            arrData.push({name: categories[j], data: ser_data});
                        } else if (categories[j] == "Government") {
                            arrData.push({name: categories[j], data: ser_data});
                        } else if (categories[j] == "Liesure and Hospitality") {
                            arrData.push({name: categories[j], data: ser_data});
                        } else {
                            arrData.push({name: categories[j], data: ser_data});
                        }
                    }

                    var relData = [];
                    var arrOther = [];
                    for (var i = 0; i < arrData.length; i++) {
                        var obj = arrData[i];
                        if (obj.name == "Professional and Business Services"
                                || obj.name == "Education and Healthcare"
                                || obj.name == "Government"
                                || obj.name == "Liesure and Hospitality") {
                            if (obj.name == "Professional and Business Services") {
                                obj.name = "Business Services";
                            } else if (obj.name == "Education and Healthcare") {
                                obj.name = "Education & Health";
                            }
                            if (obj.name == "Liesure and Hospitality") {
                                obj.name = "Leisure & Hospitality";
                            }
                            var cKey = obj.name.replace(/ |&/g, "").toLowerCase();

                            obj.color = fontJobForecast[cKey][0];
                            relData.push(obj);
                        } else {
                            var tmpDataOther = obj.data;
                            for (var j = 0; j < tmpDataOther.length; j++) {
                                if (i == 0) {
                                    arrOther.push(tmpDataOther[j]);
                                } else {
                                    arrOther[j] = arrOther[j] + tmpDataOther[j]
                                }
                            }
                        }

                    }

                    relData.push({name: "Other", data: arrOther, color: fontJobForecast['other'][0]})
                    relData.sort(newSortByProperty('name'));

                    for(var i=0;i<relData.length;i++){
                        var obj = relData[i];
                        obj.zIndex = i+1;
                    }
                    
                    arrYearForecastJob = arr_year;
                    arrDataForecastJob = relData;
                    max_detail_forecast_job = maxVal;
                    reDetailChartForecast4();
                    if(isMobile.any()){
                        $('#txtEmailReport').selectmenu('enable');
                        $('#txtEmailReport').selectmenu('refresh');
                        $('#txtDownloadReport').selectmenu('enable');
                        $('#txtDownloadReport').selectmenu('refresh');
                    }else{
                        $('#email_report').prop('disabled',false);
                        $('#email_report').selectpicker('refresh');
                        $('#download_report').prop('disabled',false);
                        $('#download_report').selectpicker('refresh');
                    }
                }
            },
            error: function(request, status, error) {
                console.log($('#url_housing').val());
                console.log(request.responseText);
            }
        });
        
        $('#chart_label').html('CIVILIAN JOBS');
        $('#header_label').html('<p>Select a section of the chart or a job type to show or hide data. <br class="hidden-xs" />Use the chart icon to download the chart image only</p>');

    }
}
function loadDetailChartFive(){
    $('#title_over_view').addClass('hide');
    $('#title_over_view_detail').removeClass('hide');
    $('#over_view_details').removeClass('hide');
    $('#over_view').addClass('hide');
    $('#data_section').addClass('hide');
    $('#chart-detail').addClass('hide');
    $('#chart-detail_4').removeClass('hide');
    $('#chart-detail_2').addClass('hide');
    $('#chart-detail_3').addClass('hide');
    var pck_source_type = $('#pck_source_type').val()
    
    $('.site-header').css({"z-index":''});
    $('#overview-body').removeClass("visibility");
    
    if(pck_source_type!=="forecast"){
        $('#chart-detail').addClass("chart-frame-248");
        $('#chart-detail_2').addClass("chart-frame-248");
        $('#chart-detail_3').addClass("chart-frame-380");
        $('#chart-detail_4').addClass("chart-frame-402");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "income", url_des: $('#url_income').val()},
            success: function(res) {
                var tmp_san = [];
                var data_san = [];
                var sum_total_san = 0;

                if (res.length > 0) {
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        var str = obj.income_group;
                        if (obj.income_group != "") {
                            if (str.indexOf("Less than") >= 0) {
                                res[i].index=0;
                            }
                            if (str.indexOf("or more") >= 0) {
                                res[i].index = res.length-1;
                            }
                        }
                    }
                    for(var i=1;i<=res.length-2;i++){
                        var max_res = 0;
                        var ind=-1;
                        for (var j = 0; j < res.length; j++) {
                            var obj = res[j];
                            var str = obj.income_group;
                            if (typeof(obj.index)=='undefined'){
                                var from = str.indexOf('$')+1;
                                var to = str.indexOf(',');
                                if(parseInt(str.substring(from, to)) > max_res){
                                    max_res = str.substring(from, to);
                                    ind = j;
                                }
                            } 
                        }
                        res[ind].index = (res.length-1)-i;
                    }
                    res.sort(function(a,b){
                        return a.index - b.index;
                    })
                    var location = $('#pck_location').val();
                    var locationLabel = location;
                    var sandiegoLabel = 'San Diego Region';
                    var categories = [];
                    var data = [];
                    var data_value_one = [];
                    var data_value_two = [];
                    var tmp = [];
                    var sum_total = 0;
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if (obj.income_group != "") {
                            var str = obj.income_group;
                            if (str.indexOf("Less than") >= 0) {
                                str = str.replace("Less than ", "<")
                            }
                            if (str.indexOf("or more") >= 0) {
                                str = "≥" + str;
                                str = str.replace("or more", "")
                            }
                            if (str.indexOf(" to ") >= 0) {
                                str = str.replace(" to ", "-")
                            }
                            while (str.indexOf(",000") >= 0) {
                                str = str.replace(",000", "K")
                            }
                            while (str.indexOf(",999") >= 0) {
                                str = str.replace(",999", ".9K")
                            }
                            categories.push(str.toUpperCase());
                        }
                        if (obj.households>=0) {
                            tmp.push(obj.households);
                            sum_total += obj.households;
                        }

                    }
                    var max=0;
                    var max_san = 0;
                    for (var i = 0; i < tmp.length; i++) {
                        if(sum_total > 0) {
                            var val = precise_round((tmp[i] / sum_total) * 100, 1);
                            data.push(precise_round((tmp[i] / sum_total) * 100, 1));
                        }else{
                            var val=0;
                            data.push(0);
                        }
                        if(val>max){
                            max = val;
                        }

                        data_value_one.push(tmp[i]);
                    }

                    $.ajax({
                        url: api_url,
                        type: "POST",
                        dataType: "json",
                        data: {type_chart: "income", url_des: $('#url_san_income').val()},
                        success: function(res_san) {
                            if (res_san.length > 0) {
                                for (var i = 0; i < res_san.length; i++) {
                                    var obj = res_san[i];
                                    if (obj.households) {
                                        tmp_san.push(obj.households);
                                        sum_total_san += obj.households;
                                    }

                                }

                                for (var i = 0; i < tmp_san.length; i++) {
                                    if(sum_total_san > 0){
                                        var val_san = precise_round((tmp_san[i] / sum_total_san) * 100, 1);
                                        if(val_san > max){
                                            max_san = val_san;
                                        }
                                        data_san.push(precise_round((tmp_san[i] / sum_total_san) * 100, 1));
                                    }else{
                                        data_san.push(0);
                                    }
                                    data_value_two.push(tmp_san[i]);
                                }
                            }
                            var arrData = [{
                                    name: locationLabel.toUpperCase(),
                                    data: data,
                                    color: fontIncomeCensus['location'][0],
                                    data_value:data_value_one
                                },
                                {
                                    name: sandiegoLabel,
                                    data: data_san,
                                    color: fontIncomeCensus['sandiego'][0],
                                    data_value:data_value_two
                                }];
                            arrData.sort(function(a,b){
                                return a.name - b.name;
                            })
                            if(max_san > max){
                                max = max_san;
                            }
                            var window_width = $(window).width();
                            arrDataIncome = arrData;
                            max_over_income = max;
                            categories_over_income = categories;
                            locationLabelIncome = locationLabel;
                            sandiegoLabelIncome = sandiegoLabel;

                            reDetailChart5();
                            if(isMobile.any()){
                                $('#txtEmailReport').selectmenu('enable');
                                $('#txtEmailReport').selectmenu('refresh');
                                $('#txtDownloadReport').selectmenu('enable');
                                $('#txtDownloadReport').selectmenu('refresh');
                            }else{
                                $('#email_report').prop('disabled',false);
                                $('#email_report').selectpicker('refresh');
                                $('#download_report').prop('disabled',false);
                                $('#download_report').selectpicker('refresh');
                            }
                        }
                    });
                    return 1;
                }
            },
            error: function(request, status, error) {
                console.log($('#url_income').val());
                console.log(request.responseText);
            }
        });
        $('#txt_total_population').html('Median Household Income');
        var url_media = $('#url_income').val()+"/median"
        $.ajax({
            url:api_url,
            type:"POST",
            dataType:"json",
            data:{type_chart: "income", url_des: url_media},
            success: function (res) {
                if(res.length){
                    if(res[0].median_inc > 0){
                        $('#total_population').html(Highcharts.numberFormat(res[0].median_inc, 0, '.', ','));
                    }
                }
            }
        });
        $('#header_label').html('<p>Select a section of the chart or a location to show or hide data. <br class="hidden-xs" />Select the chart icon to download the chart image only. </p>');
        $('#chart_label').html('HOUSEHOLD INCOME');
        
    }else{
        $('#chart-detail').addClass("chart-frame-402");
        $('#chart-detail_2').addClass("chart-frame-380");
        $('#chart-detail_3').addClass("chart-frame-402");
        $('#chart-detail_4').addClass("chart-frame-423");
        $.ajax({
            url: api_url,
            type: "POST",
            dataType: "json",
            data: {type_chart: "income", url_des: $('#url_income').val()},
            success: function(res) {
                if (res.length > 0) {
                    var categories = [];
                    var arr_year = [];
                    var colors = [];
                    var arrData = [];
                    var arrTmp = [];
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if (obj.income_group != "") {
                            var str = obj.income_group;
                            while (obj.income_group.indexOf("$") >= 0) {
                                obj.income_group = obj.income_group.replace("$", "");
                            }
                            while (obj.income_group.indexOf(",") >= 0) {
                                obj.income_group = obj.income_group.replace(",", "");
                            }
                            if (obj.income_group.indexOf("Less than") >= 0) {
                                obj.income_group = obj.income_group.replace("Less than", "")
                            }
                            if (obj.income_group.indexOf("or more") >= 0) {
                                obj.income_group = obj.income_group.replace("or more", "")
                            }
                            if (obj.income_group.indexOf(" to ") >= 0) {
                                obj.income_group = obj.income_group.replace(" to ", ".")
                            }
                        }
                    }

                    res.sort(function(a, b) {
                        return a.year - b.year;
                    }
                    );
                    for (var i = 0; i < res.length; i++) {
                        var obj = res[i];
                        if ('year' in obj && !isInArray(obj.year, arr_year)) {
                            arr_year.push(obj.year);
                        }
                    }

                    for (var j = 0; j < arr_year.length; j++) {
                        var arr = [];

                        for (var i = 0; i < res.length; i++) {
                            var obj = res[i];
                            if (obj.year == arr_year[j]) {
                                arr.push(obj)
                            }
                        }

                        arr.sort(function(a, b) {
                            return a.income_group - b.income_group;
                        }
                        );

                        var ser_data = [];

                        for (var ind = 0; ind < arr.length; ind++) {
                            var objArr = arr[ind];
                            if (!isInArray(objArr.income_group, categories)) {
                                var str_category = objArr.income_group
                                if (ind == 0) {
                                    str_category = "&lt;$" + shortenBigNumber(str_category);
                                }
                                if (ind == (arr.length - 1)) {
                                    var tmp = str_category / 1000
                                    tmp = tmp.toString();
                                    if (tmp.indexOf(".999") >= 0) {
                                        str_category = "≥$ " + tmp.replace(".999", ".9K");
                                    } else {
                                        str_category = "≥$" + shortenBigNumber(str_category);
                                    }
                                }
                                var str_spl = str_category.split(".");

                                if (str_spl.length > 1) {
                                    var tmp = str_spl[1] / 1000
                                    tmp = tmp.toString();
                                    if (tmp.indexOf(".999") >= 0) {
                                        tmp = tmp.replace(".999", ".9K");
                                    } else {
                                        tmp = shortenBigNumber(str_category);
                                    }
                                    str_category = "$" + shortenBigNumber(str_spl[0]) + "-$" + tmp
                                }
                                categories.push(str_category);
                            }
                            ser_data.push(objArr.households);
                        }

                        var str_color = '';
                        if (isInArray(arr_year[j].toString(), Object.keys(fontIncomeForecast))) {
                            str_color = fontIncomeForecast[arr_year[j]][0];
                        }
                        arrData.push({name: arr_year[j], data: ser_data, color: str_color});
                    }
                    var window_width = $(window).width();
                    categories_forecast_income = categories;
                    arrDataForecastIncome = arrData;
                    reDetailChartForecast5();
                    if(isMobile.any()){
                        $('#txtEmailReport').selectmenu('enable');
                        $('#txtEmailReport').selectmenu('refresh');
                        $('#txtDownloadReport').selectmenu('enable');
                        $('#txtDownloadReport').selectmenu('refresh');
                    }else{
                        $('#email_report').prop('disabled',false);
                        $('#email_report').selectpicker('refresh');
                        $('#download_report').prop('disabled',false);
                        $('#download_report').selectpicker('refresh');
                    }
                }
            },
            error: function(request, status, error) {
                console.log($('#url_ethnicity').val());
                console.log(request.responseText);
            }
        });
        
        $('#header_label').html('<p>Select a section of the chart or a year to show or hide data. <br class="hidden-xs" />Use the chart icon to download the chart image only. </p>');
        $('#chart_label').html('HOUSEHOLD INCOME');
    }
}